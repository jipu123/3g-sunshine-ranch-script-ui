/*
 * @Date: 2024-08-25 20:21:57
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).GoEasy=e()}(this,(function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function n(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(n){var o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,o.get?o:{enumerable:!0,get:function(){return t[n]}})})),e}var o={},r={};function i(){i=function(){return e};var t,e={},n=Object.prototype,o=n.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function p(t,e,n,o){var i=e&&e.prototype instanceof g?e:g,s=Object.create(i.prototype),a=new I(o||[]);return r(s,"_invoke",{value:O(t,n,a)}),s}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=p;var h="suspendedStart",d="suspendedYield",y="executing",m="completed",v={};function g(){}function b(){}function S(){}var w={};f(w,a,(function(){return this}));var E=Object.getPrototypeOf,k=E&&E(E(M([])));k&&k!==n&&o.call(k,a)&&(w=k);var _=S.prototype=g.prototype=Object.create(w);function C(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function N(t,e){function n(r,i,s,a){var c=l(t[r],t,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&o.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,a)}),(function(t){n("throw",t,s,a)})):e.resolve(f).then((function(t){u.value=t,s(u)}),(function(t){return n("throw",t,s,a)}))}a(c.arg)}var i;r(this,"_invoke",{value:function(t,o){function r(){return new e((function(e,r){n(t,o,e,r)}))}return i=i?i.then(r,r):r()}})}function O(e,n,o){var r=h;return function(i,s){if(r===y)throw new Error("Generator is already running");if(r===m){if("throw"===i)throw s;return{value:t,done:!0}}for(o.method=i,o.arg=s;;){var a=o.delegate;if(a){var c=P(a,o);if(c){if(c===v)continue;return c}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(r===h)throw r=m,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);r=y;var u=l(e,n,o);if("normal"===u.type){if(r=o.done?m:d,u.arg===v)continue;return{value:u.arg,done:o.done}}"throw"===u.type&&(r=m,o.method="throw",o.arg=u.arg)}}}function P(e,n){var o=n.method,r=e.iterator[o];if(r===t)return n.delegate=null,"throw"===o&&e.iterator.return&&(n.method="return",n.arg=t,P(e,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),v;var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var s=i.arg;return s?s.done?(n[e.resultName]=s.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function M(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function n(){for(;++r<e.length;)if(o.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(typeof e+" is not iterable")}return b.prototype=S,r(_,"constructor",{value:S,configurable:!0}),r(S,"constructor",{value:b,configurable:!0}),b.displayName=f(S,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,S):(t.__proto__=S,f(t,u,"GeneratorFunction")),t.prototype=Object.create(_),t},e.awrap=function(t){return{__await:t}},C(N.prototype),f(N.prototype,c,(function(){return this})),e.AsyncIterator=N,e.async=function(t,n,o,r,i){void 0===i&&(i=Promise);var s=new N(p(t,n,o,r),i);return e.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},C(_),f(_,u,"Generator"),f(_,a,(function(){return this})),f(_,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var o in e)n.push(o);return n.reverse(),function t(){for(;n.length;){var o=n.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},e.values=M,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(o,r){return a.type="throw",a.arg=e,n.next=o,r&&(n.method="next",n.arg=t),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var c=o.call(s,"catchLoc"),u=o.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),R(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var r=o.arg;R(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,o){return this.delegate={iterator:M(e),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),v}},e}function s(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e,n,o,r,i,s){try{var a=t[i](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,r)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,s(o.key),o)}}function p(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,r,i,s,a=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=i.call(n)).done)&&(a.push(o.value),a.length!==e);c=!0);}catch(t){u=!0,r=t}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return a}}(t,e)||h(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function y(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=h(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}var m={},v=function(t,e){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},v(t,e)};function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}v(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var b=function(){return b=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},b.apply(this,arguments)};function S(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n}function w(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":a(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function E(t,e){return function(n,o){e(n,o,t)}}function k(t,e){if("object"===("undefined"==typeof Reflect?"undefined":a(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function _(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{c(o.next(t))}catch(t){i(t)}}function a(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((o=o.apply(t,e||[])).next())}))}function C(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,o=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}var N=Object.create?function(t,e,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,o,r)}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]};function O(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||N(e,t,n)}function P(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function T(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s}function R(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(T(arguments[e]));return t}function I(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),r=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,r++)o[r]=i[s];return o}function M(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function A(t){return this instanceof A?(this.v=t,this):new A(t)}function D(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(t,e||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(t){r[t]&&(o[t]=function(e){return new Promise((function(n,o){i.push([t,e,n,o])>1||a(t,e)}))})}function a(t,e){try{!function(t){t.value instanceof A?Promise.resolve(t.value.v).then(c,u):f(i[0][2],t)}(r[t](e))}catch(t){f(i[0][3],t)}}function c(t){a("next",t)}function u(t){a("throw",t)}function f(t,e){t(e),i.shift(),i.length&&a(i[0][0],i[0][1])}}function x(t){var e,n;return e={},o("next"),o("throw",(function(t){throw t})),o("return"),e[Symbol.iterator]=function(){return this},e;function o(o,r){e[o]=t[o]?function(e){return(n=!n)?{value:A(t[o](e)),done:!1}:r?r(e):e}:r}}function B(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=P(t),e={},o("next"),o("throw"),o("return"),e[Symbol.asyncIterator]=function(){return this},e);function o(n){e[n]=t[n]&&function(e){return new Promise((function(o,r){(function(t,e,n,o){Promise.resolve(o).then((function(e){t({value:e,done:n})}),e)})(o,r,(e=t[n](e)).done,e.value)}))}}}function G(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var j=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function F(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&N(e,t,n);return j(e,t),e}function U(t){return t&&t.__esModule?t:{default:t}}function L(t,e,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(t):o?o.value:e.get(t)}function q(t,e,n,o,r){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?r.call(t,n):r?r.value=n:e.set(t,n),n}function W(t,e){if(null===e||"object"!==a(e)&&"function"!=typeof e)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof t?e===t:t.has(e)}function z(t,e,n){if(null!=e){if("object"!==a(e)&&"function"!=typeof e)throw new TypeError("Object expected.");var o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=e[Symbol.asyncDispose]}if(void 0===o){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=e[Symbol.dispose]}if("function"!=typeof o)throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:o,async:n})}else n&&t.stack.push({async:!0});return e}var H="function"==typeof SuppressedError?SuppressedError:function(t,e,n){var o=new Error(n);return o.name="SuppressedError",o.error=t,o.suppressed=e,o};function V(t){function e(e){t.error=t.hasError?new H(e,t.error,"An error was suppressed during disposal."):e,t.hasError=!0}return function n(){for(;t.stack.length;){var o=t.stack.pop();try{var r=o.dispose&&o.dispose.call(o.value);if(o.async)return Promise.resolve(r).then(n,(function(t){return e(t),n()}))}catch(t){e(t)}}if(t.hasError)throw t.error}()}var J={__extends:g,__assign:b,__rest:S,__decorate:w,__param:E,__metadata:k,__awaiter:_,__generator:C,__createBinding:N,__exportStar:O,__values:P,__read:T,__spread:R,__spreadArrays:I,__spreadArray:M,__await:A,__asyncGenerator:D,__asyncDelegator:x,__asyncValues:B,__makeTemplateObject:G,__importStar:F,__importDefault:U,__classPrivateFieldGet:L,__classPrivateFieldSet:q,__classPrivateFieldIn:W,__addDisposableResource:z,__disposeResources:V},X=Object.freeze({__proto__:null,__extends:g,get __assign(){return b},__rest:S,__decorate:w,__param:E,__esDecorate:function(t,e,n,o,r,i){function s(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var c,u=o.kind,f="getter"===u?"get":"setter"===u?"set":"value",p=!e&&t?o.static?t:t.prototype:null,l=e||(p?Object.getOwnPropertyDescriptor(p,o.name):{}),h=!1,d=n.length-1;d>=0;d--){var y={};for(var m in o)y[m]="access"===m?{}:o[m];for(var m in o.access)y.access[m]=o.access[m];y.addInitializer=function(t){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(t||null))};var v=(0,n[d])("accessor"===u?{get:l.get,set:l.set}:l[f],y);if("accessor"===u){if(void 0===v)continue;if(null===v||"object"!==a(v))throw new TypeError("Object expected");(c=s(v.get))&&(l.get=c),(c=s(v.set))&&(l.set=c),(c=s(v.init))&&r.unshift(c)}else(c=s(v))&&("field"===u?r.unshift(c):l[f]=c)}p&&Object.defineProperty(p,o.name,l),h=!0},__runInitializers:function(t,e,n){for(var o=arguments.length>2,r=0;r<e.length;r++)n=o?e[r].call(t,n):e[r].call(t);return o?n:void 0},__propKey:function(t){return"symbol"===a(t)?t:"".concat(t)},__setFunctionName:function(t,e,n){return"symbol"===a(e)&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})},__metadata:k,__awaiter:_,__generator:C,__createBinding:N,__exportStar:O,__values:P,__read:T,__spread:R,__spreadArrays:I,__spreadArray:M,__await:A,__asyncGenerator:D,__asyncDelegator:x,__asyncValues:B,__makeTemplateObject:G,__importStar:F,__importDefault:U,__classPrivateFieldGet:L,__classPrivateFieldSet:q,__classPrivateFieldIn:W,__addDisposableResource:z,__disposeResources:V,default:J}),Y=n(X);!function(t){t.__esModule=!0,t.FrameworkDetector=t.Framework=void 0;var e,n=Y;!function(t){t.UNIAPP="uniapp",t.REACT_NATIVE="rn",t.COCOS="cocos",t.TARO="taro",t.UNKNOWN="unknown"}(e=t.Framework||(t.Framework={}));var o=function(){function t(){var t,o,r;this.framework=null,this.methods=((t={})[e.UNIAPP]=this.isUniApp,t[e.REACT_NATIVE]=this.isReactNative,t[e.TARO]=this.isTaro,t[e.COCOS]=this.isCocos,t);var i=this.methods,s=Object.keys(i);try{for(var a=n.__values(s),c=a.next();!c.done;c=a.next()){var u=c.value;if((0,i[u])()){this.framework=u;break}}}catch(t){o={error:t}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}this.framework=this.framework||e.UNKNOWN,this.framework}return t.currentFramework=function(){return this.instance||(this.instance=new t),this.instance.framework},t.prototype.isUniApp=function(){try{return"function"==typeof uni.getSystemInfoSync}catch(t){return!1}},t.prototype.isReactNative=function(){try{return"object"===("undefined"==typeof navigator?"undefined":a(navigator))&&"ReactNative"===navigator.product}catch(t){return!1}},t.prototype.isTaro=function(){try{return void 0!==process.env.TARO_ENV}catch(t){return!1}},t.prototype.isCocos=function(){try{return void 0!==cc.sys.localStorage}catch(t){return!1}},t}();t.FrameworkDetector=o}(m),r.__esModule=!0,r.RNPlugins=void 0;var K=m,Q=function(){function t(){}return t.init=function(t){K.FrameworkDetector.currentFramework()===K.Framework.REACT_NATIVE&&(this.validate(t),this.platform=t.platform,this.asyncStorage=t.asyncStorage)},t.validate=function(t){if(!t)throw new Error("'reactNativeOptions' is missing when calling GoEasy.getInstance()");if(!t.platform)throw new Error("'platform' is missing in GoEasy 'reactNativeOptions'");if(!t.asyncStorage)throw new Error("'asyncStorage' is missing in GoEasy 'reactNativeOptions'")},t}();r.RNPlugins=Q;var $={};!function(t){t.__esModule=!0,t.NetworkStatus=void 0,function(t){t.DISCONNECTED="disconnected",t.DISCONNECTING="disconnecting",t.CONNECTING="connecting",t.CONNECTED="connected",t.RECONNECTING="reconnecting",t.RECONNECTED="reconnected",t.EXPIRED_RECONNECTED="reconnected",t.CONNECT_FAILED="connect_failed"}(t.NetworkStatus||(t.NetworkStatus={}))}($);var Z={},et={};!function(t){t.__esModule=!0;var e=function(){function t(){}return t.prototype.isDef=function(t){return!this.isUndef(t)},t.prototype.isUndef=function(t){return null==t},t.prototype.isPrimitive=function(t){return"string"==typeof t||"number"==typeof t||"symbol"===a(t)||"boolean"==typeof t},t.prototype.isObject=function(t){return null!==t&&"object"===a(t)},t.prototype.isPlainObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},t.prototype.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},t.prototype.isValidArrayIndex=function(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)},t.prototype.isString=function(t){return"string"==typeof t},t.prototype.isNumber=function(t){return"number"==typeof t},t.prototype.isStringOrNumber=function(t){return this.isString(t)||this.isNumber(t)},t.prototype.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},t.prototype.isEmpty=function(t){return this.isArray(t)?0===t.length:this.isObject(t)?!this.isDef(t):!this.isNumber(t)&&(this.isString(t)?""===t.trim():!this.isDef(t))},t.prototype.isNative=function(t){return"function"==typeof t&&/native code/.test(t.toString())},t.prototype.isFunction=function(t){return"function"==typeof t},t.prototype.isBoolean=function(t){return"boolean"==typeof t},t.prototype.isTrue=function(t){return!0===t},t.prototype.isFalse=function(t){return!1===t},t.prototype.isNull=function(t){return null===t},t}(),n=new e;t.default=n}(et);var nt={};!function(t){t.__esModule=!0,t.Platform=t.PlatformDetector=t.PlatformType=void 0;var e,n=Y,o=r;!function(t){t.MP_WX="mp-wx",t.MP_WGAME="mp-wgame",t.MP_BYTE="mp-byte",t.MP_BAIDU="mp-baidu",t.MP_ALI="mp-ali",t.BROWSER="browser",t.NODE="node",t.UNI_IOS="uni-ios",t.UNI_ANDROID="uni-android",t.COCOS_IOS="cocos-ios",t.COCOS_ANDROID="cocos-android",t.RN_IOS="rn-ios",t.RN_ANDROID="rn-android",t.UNKNOWN="unknown"}(e=t.PlatformType||(t.PlatformType={}));var i=function(){function t(){var t,o,r;this.platform=null,this.methods=((t={})[e.BROWSER]=this.isBrowser,t[e.MP_WX]=this.isMPWX,t[e.MP_WGAME]=this.isMPWeGame,t[e.MP_BYTE]=this.isMPByte,t[e.MP_BAIDU]=this.isMPBaidu,t[e.MP_ALI]=this.isMPAli,t[e.NODE]=this.isNode,t[e.UNI_IOS]=this.isUniAppIOS,t[e.UNI_ANDROID]=this.isUniAppAndroid,t[e.COCOS_IOS]=this.isCocosIOS,t[e.COCOS_ANDROID]=this.isCocosAndroid,t[e.RN_IOS]=this.isRNiOS,t[e.RN_ANDROID]=this.isRNAndroid,t);var i=this.methods,s=Object.keys(i);try{for(var a=n.__values(s),c=a.next();!c.done;c=a.next()){var u=c.value;if((0,i[u])()){this.platform=u;break}}}catch(t){o={error:t}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}this.platform=this.platform||e.UNKNOWN,this.platform}return t.currentPlatform=function(){return this.instance||(this.instance=new t),t.instance.platform},t.prototype.isBrowser=function(){return"undefined"!=typeof navigator&&"Taro"!==navigator.product&&"ReactNative"!==navigator.product&&"undefined"==typeof GameGlobal&&("undefined"==typeof cc||null!==cc.sys.browserType)&&"undefined"==typeof my&&"undefined"==typeof tt&&"undefined"==typeof swan},t.prototype.isMPWX=function(){return"object"===("undefined"==typeof wx?"undefined":a(wx))&&"function"==typeof wx.getSystemInfoSync&&"undefined"==typeof WebSocket&&"undefined"==typeof XMLHttpRequest&&"undefined"==typeof plus&&"undefined"==typeof tt},t.prototype.isMPWeGame=function(){return"object"===("undefined"==typeof GameGlobal?"undefined":a(GameGlobal))},t.prototype.isMPByte=function(){return"object"===("undefined"==typeof tt?"undefined":a(tt))&&"function"==typeof tt.getSystemInfoSync},t.prototype.isMPBaidu=function(){return"object"===("undefined"==typeof swan?"undefined":a(swan))&&"function"==typeof swan.getSystemInfoSync},t.prototype.isMPAli=function(){return"object"===("undefined"==typeof my?"undefined":a(my))&&"function"==typeof my.getSystemInfoSync},t.prototype.isNode=function(){try{return"node"===process.release.name}catch(t){return!1}},t.prototype.isUniAppIOS=function(){try{return"ios"===uni.getSystemInfoSync().platform&&"app"===uni.getSystemInfoSync().uniPlatform}catch(t){return!1}},t.prototype.isUniAppAndroid=function(){try{return"android"===uni.getSystemInfoSync().platform&&"app"===uni.getSystemInfoSync().uniPlatform}catch(t){return!1}},t.prototype.isCocosIOS=function(){try{return"iOS"===cc.sys.os}catch(t){return!1}},t.prototype.isCocosAndroid=function(){try{return"Android"===cc.sys.os}catch(t){return!1}},t.prototype.isRNiOS=function(){try{return"ios"===o.RNPlugins.platform.OS}catch(t){return!1}},t.prototype.isRNAndroid=function(){try{return"android"===o.RNPlugins.platform.OS}catch(t){return!1}},t}();t.PlatformDetector=i;var s=function(){function t(){}return t.type=e,t.current=i.currentPlatform(),t}();t.Platform=s}(nt);var ot={__esModule:!0,runStatus:void 0},rt=Y,it=nt,st=function(){function t(){var t=this;[new ct,new ut].forEach((function(e){if(e.support())return t.checker=e,void t.checker.startCheck()}))}return t.prototype.isBackend=function(){return this.checker&&this.checker.isBackend()},t}(),at=function(){},ct=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.runningBackend=!1,e}return rt.__extends(e,t),e.prototype.startCheck=function(){var t=this;"object"===("undefined"==typeof plus?"undefined":a(plus))&&(plus.globalEvent.addEventListener("resume",(function(){t.runningBackend=!1,t.runningBackend}),!1),plus.globalEvent.addEventListener("pause",(function(){t.runningBackend=!0,t.runningBackend}),!1))},e.prototype.isBackend=function(){return this.runningBackend},e.prototype.support=function(){var t=it.PlatformDetector.currentPlatform();return[it.PlatformType.UNI_IOS,it.PlatformType.UNI_ANDROID].includes(t)},e}(at),ut=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.runningBackend=!1,e}return rt.__extends(e,t),e.prototype.startCheck=function(){var t=this;wx.onAppShow((function(){t.runningBackend=!1})),wx.onAppHide((function(){t.runningBackend=!0}))},e.prototype.isBackend=function(){return this.runningBackend},e.prototype.support=function(){return it.PlatformDetector.currentPlatform()===it.PlatformType.MP_WX},e}(at),ft=new st;ot.runStatus=ft;var pt={};!function(t){t.__esModule=!0,t.RocketTypes=void 0,function(t){t.authorize="authorize",t.manualDisconnect="manualDisconnect",t.subscribe="subscribe",t.unsubscribe="unsubscribe",t.publish="publish",t.ack="ack",t.historyMessages="historyMessages",t.hereNow="hereNow",t.hereNowByUserIds="hereNowByUserIds",t.PUBSUB_PRESENCE_SUBSCRIBE="PUBSUB_PRESENCE_SUBSCRIBE",t.PUBSUB_PRESENCE_UNSUBSCRIBE="PUBSUB_PRESENCE_UNSUBSCRIBE",t.PUBSUB_PRESENCE_HERENOW="PUBSUB_PRESENCE_HERENOW",t.imLastConversations="imLastConversations",t.markPrivateMessageAsRead="markPrivateMessageAsRead",t.markGroupMessageAsRead="markGroupMessageAsRead",t.imGroupOnlineCount="imGroupOnlineCount",t.imHereNow="imHereNow",t.imGroupHereNow="imGroupHereNow",t.publishIM="publishIM",t.subscribeUserPresence="subscribeUserPresence",t.unsubscribeUserPresence="unsubscribeUserPresence",t.subscribeGroupPresence="subscribeGroupPresence",t.unsubscribeGroupPresence="unsubscribeGroupPresence",t.removeConversation="removeConversation",t.topConversation="topConversation",t.imData="imData",t.subscribeGroups="subscribeGroups",t.unsubscribeGroup="unsubscribeGroup",t.IM_DELETE_MESSAGE="IM_DELETE_MESSAGE",t.IM_HISTORY="IM_HISTORY",t.IM_HISTORY_CHANGE="IM_HISTORY_CHANGE",t.IM_RECALL_MESSAGE="IM_RECALL_MESSAGE",t.IM_MARK_AS_READ="IM_MARK_AS_READ",t.CS_PENDING_CONVERSATION="CS_PENDING_CONVERSATION",t.CS_ACCEPT="CS_ACCEPT",t.CS_END="CS_END",t.CS_TRANSFER="CS_TRANSFER",t.CS_AGENTS="CS_AGENTS",t.CS_CUSTOMER_STATUS="CS_CUSTOMER_STATUS",t.CS_MY_TEAMS="CS_MY_TEAMS",t.CS_ONLINE="CS_ONLINE",t.CS_OFFLINE="CS_OFFLINE",t.CS_LIVE_SESSION="CS_LIVE_SESSION",t.CS_QUIT_LIVE="CS_QUIT_LIVE",t.SET_IOS_BADGE="SET_IOS_BADGE",t.MD_CMD="MD_CMD"}(t.RocketTypes||(t.RocketTypes={}))}(pt);var lt={};!function(t){t.__esModule=!0,t.SocketTimeout=void 0,function(t){t[t.connect=3e3]="connect",t[t.reconnectionDelayMax=3e3]="reconnectionDelayMax",t[t.commonQuerySingle=2500]="commonQuerySingle",t[t.commonQueryTotal=12e3]="commonQueryTotal",t[t.commonRequestSingle=1700]="commonRequestSingle",t[t.commonRequestTotal=12e3]="commonRequestTotal",t[t.commonInfiniteSingle=1700]="commonInfiniteSingle",t[t.commonInfiniteTotal=864e5]="commonInfiniteTotal"}(t.SocketTimeout||(t.SocketTimeout={}))}(lt);var ht={__esModule:!0,CallbackUtils:void 0},dt=et,yt=function(){function t(){}return t.onSuccess=function(t,e){dt.default.isFunction(t.onSuccess)&&t.onSuccess(e)},t.onFailed=function(t,e){if(!dt.default.isObject(t)||!dt.default.isFunction(t.onFailed))throw e;t.onFailed(e)},t}();ht.CallbackUtils=yt;var mt={},vt={exports:{}};!function(t){function e(t){if(t)return function(t){for(var n in e.prototype)t[n]=e.prototype[n];return t}(t)}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,o=this._callbacks["$"+t];if(!o)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r=0;r<o.length;r++)if((n=o[r])===e||n.fn===e){o.splice(r,1);break}return this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var o=0,r=(n=n.slice(0)).length;o<r;++o)n[o].apply(this,e);return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}(vt);var gt=vt.exports,bt={exports:{}},St="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(St){var wt=new Uint8Array(16);bt.exports=function(){return St(wt),wt}}else{var Et=new Array(16);bt.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),Et[e]=t>>>((3&e)<<3)&255;return Et}}for(var kt=[],_t=0;_t<256;++_t)kt[_t]=(_t+256).toString(16).substr(1);var Ct,Nt,Ot=function(t,e){var n=e||0,o=kt;return[o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]]].join("")},Pt=bt.exports,Tt=Ot,Rt=0,It=0;var Mt=function(t,e,n){var o=e&&n||0,r=e||[],i=(t=t||{}).node||Ct,s=void 0!==t.clockseq?t.clockseq:Nt;if(null==i||null==s){var a=Pt();null==i&&(i=Ct=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==s&&(s=Nt=16383&(a[6]<<8|a[7]))}var c=void 0!==t.msecs?t.msecs:(new Date).getTime(),u=void 0!==t.nsecs?t.nsecs:It+1,f=c-Rt+(u-It)/1e4;if(f<0&&void 0===t.clockseq&&(s=s+1&16383),(f<0||c>Rt)&&void 0===t.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Rt=c,It=u,Nt=s;var p=(1e4*(268435455&(c+=122192928e5))+u)%4294967296;r[o++]=p>>>24&255,r[o++]=p>>>16&255,r[o++]=p>>>8&255,r[o++]=255&p;var l=c/4294967296*1e4&268435455;r[o++]=l>>>8&255,r[o++]=255&l,r[o++]=l>>>24&15|16,r[o++]=l>>>16&255,r[o++]=s>>>8|128,r[o++]=255&s;for(var h=0;h<6;++h)r[o+h]=i[h];return e||Tt(r)},At=bt.exports,Dt=Ot;var xt=function(t,e,n){var o=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var r=(t=t||{}).random||(t.rng||At)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e)for(var i=0;i<16;++i)e[o+i]=r[i];return e||Dt(r)},Bt=Mt,Gt=xt,jt=Gt;jt.v1=Bt,jt.v4=Gt;var Ft=jt,Ut=function(){function t(){u(this,t)}return p(t,[{key:"support",value:function(){return!0}},{key:"getParams",value:function(){return this.params}},{key:"setData",value:function(t){this.active=t.a,this.data=t.d}},{key:"preConnect",value:function(t){}},{key:"postConnect",value:function(){}}]),t}(),Lt=function(){function t(){u(this,t)}return p(t,null,[{key:"initModule",value:function(t){t.support()&&this.modules.set(t.name,t)}},{key:"getParams",value:function(){return _(this,void 0,void 0,i().mark((function t(){var e,n,o,r,s,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e={},n=y(this.modules),t.prev=2,n.s();case 4:if((o=n.n()).done){t.next=14;break}return r=l(o.value,2),s=r[0],a=r[1],t.next=8,a.getParams();case 8:if(t.t0=t.sent,t.t0){t.next=11;break}t.t0=null;case 11:e[s]=t.t0;case 12:t.next=4;break;case 14:t.next=19;break;case 16:t.prev=16,t.t1=t.catch(2),n.e(t.t1);case 19:return t.prev=19,n.f(),t.finish(19);case 22:return t.abrupt("return",e);case 23:case"end":return t.stop()}}),t,this,[[2,16,19,22]])})))}},{key:"setDatas",value:function(t){var e=this;Object.keys(t).forEach((function(n){e.modules.get(n).setData(t[n])}))}},{key:"preConnect",value:function(t){this.modules.forEach((function(e,n){e.preConnect(t)}))}},{key:"postConnect",value:function(){this.modules.forEach((function(t,e){t.postConnect()}))}}]),t}();Lt.Module=Ut,Lt.modules=new Map;var qt,Wt,zt=gt,Ht=function(){function t(){u(this,t),this.emitter=new zt}return p(t,[{key:"on",value:function(t,e){return this.emitter.on(t,e),this}},{key:"once",value:function(t,e){return this.emitter.once(t,e),this}},{key:"off",value:function(t,e){return this.emitter.off(t,e),this}},{key:"fire",value:function(t,e){return this.emitter.emit(t,e),this}}]),t}(),Vt=function(){function t(){u(this,t),this.eventDriver=new Ht}return p(t,[{key:"on",value:function(t,e){this.eventDriver.on(t,e)}},{key:"off",value:function(t,e){this.eventDriver.off(t,e)}},{key:"fire",value:function(t,e){this.eventDriver.fire(t,e)}}]),t}(),Jt=new(function(){function t(){u(this,t)}return p(t,[{key:"isDef",value:function(t){return!this.isUndef(t)}},{key:"isUndef",value:function(t){return null==t}},{key:"isPrimitive",value:function(t){return"string"==typeof t||"number"==typeof t||"symbol"==a(t)||"boolean"==typeof t}},{key:"isObject",value:function(t){return null!==t&&"object"==a(t)}},{key:"isPlainObject",value:function(t){return"[object Object]"===Object.prototype.toString.call(t)}},{key:"isRegExp",value:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)}},{key:"isValidArrayIndex",value:function(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}},{key:"isString",value:function(t){return"string"==typeof t}},{key:"isNumber",value:function(t){return"number"==typeof t}},{key:"isStringOrNumber",value:function(t){return this.isString(t)||this.isNumber(t)}},{key:"isArray",value:function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{key:"isEmpty",value:function(t){return this.isArray(t)?0===t.length:this.isObject(t)?!this.isDef(t):!this.isNumber(t)&&(this.isString(t)?""===t.trim():!this.isDef(t))}},{key:"isNative",value:function(t){return"function"==typeof t&&/native code/.test(t.toString())}},{key:"isFunction",value:function(t){return"function"==typeof t}},{key:"isBoolean",value:function(t){return"boolean"==typeof t}},{key:"isTrue",value:function(t){return!0===t}},{key:"isFalse",value:function(t){return!1===t}},{key:"isNull",value:function(t){return null===t}}]),t}()),Xt=gt,Yt=function(){function t(){u(this,t),this.emitter=new Xt}return p(t,[{key:"on",value:function(t,e){if(!Jt.isString(t))throw Error("event require a string.");if(!Jt.isFunction(e))throw Error("callback must be a function");this.emitter.on(t,e)}},{key:"fire",value:function(t,e){this.emitter.emit(t,e)}},{key:"off",value:function(t,e){this.emitter.off(t,e)}}]),t}(),Kt=function(){function t(){u(this,t)}return p(t,null,[{key:"init",value:function(t,e,n,o,r,i){this.Socket=t,this.N=e,this.Member=n,this.v=o,this.Platform=r,this.GModules=i}}]),t}(),Qt=Ft,$t=function(){function t(){u(this,t)}return p(t,null,[{key:"get",value:function(){return Qt.v1().replace(/-/g,"")}}]),t}();(Wt=qt||(qt={})).WRITE="WRITE",Wt.READ="READ",Wt.NONE="NONE";var Zt=function(){function t(e){var n=this;u(this,t),this.permission=qt.NONE,this.singleTimeout=0,this.totalTimeout=0,this.startTime=0,this.complete=!1,this.retried=0,this.unique=!1,this.uuid=$t.get(),this.name=e.name,this.params=e.params,this.permission=e.permission,this.totalTimeout=e.totalTimeout,this.singleTimeout=e.singleTimeout,e.unique&&(this.unique=e.unique),this.success=function(t){n.complete||(n.end(),e.success(t))},this.fail=function(t){n.complete||(n.end(),e.fail(t))}}return p(t,[{key:"start",value:function(){this.startTime=Date.now(),this.initAutoTimeout()}},{key:"end",value:function(){this.complete=!0,clearTimeout(this.timeoutHandler)}},{key:"initAutoTimeout",value:function(){var t=this;this.timeoutHandler=setTimeout((function(){t.complete||t.fail({resultCode:408,content:"Host unreachable or timeout"})}),this.totalTimeout)}}]),t}(),te=n(Object.freeze({__proto__:null,AbstractEventCenter:Vt,ApiEventCenter:Yt,EmitterEventDriver:Ht,G:Kt,GModule:Ut,GModules:Lt,get Permission(){return qt},Rocket:Zt,UUID:$t}));mt.__esModule=!0,mt.GNModule=void 0;var ee=Y,ne=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ee.__extends(e,t),e.init=function(){return this.module=new e,this.module.name=this.GN_MODULE_NAME,this.module},e.setRegId=function(t,e){if(t){this.module.regIdPromise=t;var n=e;this.module.params={v:{npv:n}}}},e.prototype.preConnect=function(t){this.wxmpId=t.wxmpId},e.prototype.getParams=function(){return ee.__awaiter(this,void 0,void 0,(function(){var t,e;return ee.__generator(this,(function(n){switch(n.label){case 0:if(this.params=this.params||{},!this.regIdPromise)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),t=this.params,[4,this.regIdPromise];case 2:return t.regId=n.sent(),[3,4];case 3:return e=n.sent(),console.warn("Failed to register the Manufacturers Push service:"+JSON.stringify(e)),[3,4];case 4:return this.params.wxmpId=this.wxmpId,[2,this.params]}}))}))},e.GN_MODULE_NAME="GN",e}(te.GModule);mt.GNModule=ne,Z.__esModule=!0,Z.GN=void 0;var oe=et,re=nt,ie=ot,se=pt,ae=lt,ce=ht,ue=mt,fe=te,pe=function(){function t(){}return t.init=function(){var t=ue.GNModule.init();fe.GModules.initModule(t),this.supportAppNotification()&&(this.uniappPlugin=uni.requireNativePlugin("GoEasy-Uniapp"),this.uniappPlugin?(this.regIdPromise=this.askRegId(),this.v=this.uniappPlugin.v(),ue.GNModule.setRegId(this.regIdPromise,this.v)):console.warn("No GoEasy-Uniapp Native Plugin."),this.setClientBadge(0))},t.addAssembler=function(t){this.payloadAssemblers.push(t)},t.assemblePayload=function(t){var e=this.payloadAssemblers.find((function(e){return e.support(t)}));return e?e.assemble(t):t},t.createLocalNotification=function(e,n,o,r,i){ie.runStatus.isBackend()&&(o.g=1,"undefined"!=typeof plus&&(r?(this.uniappPlugin&&this.uniappPlugin.playSound(r),plus.push.createMessage(n,JSON.stringify(o),{title:e,sound:"none"})):plus.push.createMessage(n,JSON.stringify(o),{title:e}),"+1"===i&&this.setClientBadge(t.badge+1)))},t.setBadge=function(e){var n=this;if(!Number.isInteger(e.badge)||e.badge<0)ce.CallbackUtils.onFailed(e,"badge must be an integer greater than or equal to 0.");else if(t.supportAppNotification())if(this.uniappPlugin&&re.PlatformDetector.currentPlatform()===re.PlatformType.UNI_IOS){var o=new fe.Rocket({name:se.RocketTypes.SET_IOS_BADGE,params:{badge:e.badge},unique:!0,singleTimeout:ae.SocketTimeout.commonRequestSingle,totalTimeout:ae.SocketTimeout.commonRequestTotal,permission:fe.Permission.WRITE,success:function(){ce.CallbackUtils.onSuccess(e),n.setClientBadge(e.badge)},fail:function(t){ce.CallbackUtils.onFailed(e,t.content)}});fe.G.Socket.e(o)}else ce.CallbackUtils.onSuccess(e),this.setClientBadge(e.badge)},t.setClientBadge=function(e){"vivo"!==plus.device.vendor&&(t.badge=e,plus.runtime.setBadgeNumber(e))},t.askRegId=function(){var t=this,e=null,n=0,o=function o(){return new Promise((function(r,i){t.uniappPlugin.regId((function(t){r(t)}),(function(r){if(!(1e6===r.data.code&&n<=10))return clearTimeout(e),i(r);e=setTimeout((function(){n++,t.regIdPromise=o()}),3500)}))}))}();return o},t.getRegIdPromise=function(){return this.regIdPromise},t.supportAppNotification=function(){var t=re.PlatformDetector.currentPlatform();return t===re.PlatformType.UNI_ANDROID||t===re.PlatformType.UNI_IOS},t.listenPlusClickNotification=function(){var t=this;plus.push.addEventListener("click",(function(e){try{if(e){var n="string"==typeof e.payload?JSON.parse(e.payload):e.payload;if(t.availableIntent(n)){var o=t.assemblePayload(n);plus.push.clear(),t.onClickNotificationCallback(o)}}}catch(t){}}))},t.availableIntent=function(t){return t&&Object.keys(t).length&&t.g&&1===parseInt(t.g)},t.getIntentData=function(){var t=this;this.uniappPlugin.getIntentData((function(e){if(t.availableIntent(e)){var n=t.assemblePayload(e),o=re.PlatformDetector.currentPlatform();plus.push.clear(),o===re.PlatformType.UNI_ANDROID&&t.uniappPlugin.clearAll(),t.onClickNotificationCallback(n)}}))},t.listenClick=function(){this.listenPlusClickNotification();var t=re.PlatformDetector.currentPlatform();this.uniappPlugin&&t===re.PlatformType.UNI_ANDROID&&this.getIntentData()},t.onClickNotification=function(e){if(t.supportAppNotification()){if(!oe.default.isFunction(e))throw new Error("The arguments must be a function.");null===this.onClickNotificationCallback?(this.onClickNotificationCallback=e,this.listenClick()):console.warn("The onClickNotification event has been listened on. Please do not listen to it more than once.")}else console.warn("The current environment doesn't support or allowNotification is false.")},t.uniappPlugin=null,t.v=null,t.regIdPromise=null,t.onClickNotificationCallback=null,t.payloadAssemblers=new Array,t}();Z.GN=pe;var le={};!function(t){t.__esModule=!0,t.CustomerStatusOptions=t.User=t.AgentOnlineOptions=t.ConversationDTO=t.MessageStatus=t.Scene=t.CallBackOptions=t.version=void 0;var e=Y;t.version="2.13.2";var n,o,r=function(){};t.CallBackOptions=r,(n=t.Scene||(t.Scene={})).PRIVATE="private",n.GROUP="group",n.SYSTEM="system",n.CS="cs",(o=t.MessageStatus||(t.MessageStatus={})).NEW="new",o.SENDING="sending",o.SUCCESS="success",o.FAIL="fail";var i=function(){};t.ConversationDTO=i;var s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e.__extends(n,t),n}(r);t.AgentOnlineOptions=s;var a=function(t,e){this.id=t,this.data=e};t.User=a;var c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e.__extends(n,t),n}(r);t.CustomerStatusOptions=c}(le);var he={},de={},ye={},me={};!function(t){t.__esModule=!0,t.default=function(){}}(me);var ve={};!function(t){t.__esModule=!0;var e=et,n=function(){function t(){}return t.prototype.validateId=function(t,n){if(e.default.isEmpty(t))throw{code:400,content:" ".concat(n," is required.")};if(!e.default.isString(t))throw{code:400,content:"TypeError: ".concat(n," require string.")}},t.prototype.validateIdArray=function(t,n){if(!Array.isArray(t)||0===t.length)throw{code:400,content:"TypeError: ".concat(n," require array.")};if(t.length>300)throw{code:400,content:"".concat(n," is over max length 300.")};for(var o=0;o<t.length;o++){if(!e.default.isStringOrNumber(t[o]))throw{code:400,content:"TypeError: ".concat(n," item require string or number.")};if(e.default.isNumber(t[o])&&(t[o]=t[o].toString()),0==t[o].length)throw{code:400,content:"".concat(n," has empty item.")}}if(Array.from(new Set(t)).length<t.length)throw{code:400,content:"Duplicate element in ".concat(n)}},t.prototype.validateChannel=function(t,n){if(e.default.isEmpty(t))throw{code:400,content:" ".concat(n," is required.")};if(!e.default.isStringOrNumber(t))throw{code:400,content:"TypeError: ".concat(n," require string or number.")}},t.prototype.validateChannelArray=function(t,e){this.validateIdArray(t,e)},t.prototype.validateChannelAndChannels=function(t,n){var o=!e.default.isEmpty(t),r=!e.default.isEmpty(n);if(!o&&!r)throw{code:400,content:"channel is required."};if(o&&r)throw{code:400,content:"subscribe to either channel or channels, not both."};o&&this.validateChannel(t,"channel"),r&&this.validateChannelArray(n,"channels")},t.prototype.validateCallbackOptions=function(t){if(!e.default.isObject(t))throw{code:400,content:"bad parameters"}},t.prototype.validateNotification=function(t){function n(t,n,o){if(!(e.default.isString(t[n])&&t[n].length<=o))throw{code:400,content:"notification.".concat(n," must be a string of no more than ").concat(o," characters")}}function o(t,n,o,r){var i=t[n];if(e.default.isObject(i)&&e.default.isDef(i[o])){var s={code:400,content:"notification.vendorOptions.".concat(n,".").concat(o," require a ").concat(r,"}")},a=i[o];if("string"===r&&!e.default.isString(a))throw s;if("number"===r&&!e.default.isNumber(a))throw s}}if(!e.default.isObject(t))throw{code:400,content:"TypeError: notification requires an object."};if(n(t,"title",32),n(t,"body",50),e.default.isDef(t.sound)&&!e.default.isString(t.sound))throw{code:400,content:"notification.sound must be a string"};if(e.default.isDef(t.badge)&&!e.default.isString(t.badge))throw{code:400,content:"notification.badge must be a string"};t.badge=t.badge||"0";var r=t.vendorOptions;e.default.isObject(r)&&(o(r,"huawei","category","string"),o(r,"xiaomi","channel_id","string"),o(r,"oppo","channel_id","string"),o(r,"vivo","classification","number"),o(r,"vivo","category","string"))},t.prototype.validateValIsEmpty=function(t,n){if(e.default.isUndef(t)||e.default.isEmpty(t))throw{code:400,content:"".concat(n," is empty")}},t.prototype.validateWXMPTemplateMsg=function(t){if(e.default.isObject(t)){if(!e.default.isString(t.template_id))throw{code:400,content:"template_id must be string."};if(!e.default.isEmpty(t.url)&&!e.default.isString(t.url))throw{code:400,content:"url must be string"};if(!(e.default.isEmpty(t.miniprogram)||e.default.isString(t.miniprogram.appid)&&e.default.isString(t.miniprogram.pagepath)))throw{code:400,content:"miniprogram.appid and miniprogram.pagepath must be strings."};if(!e.default.isObject(t.data))throw{code:400,content:"data requires an object."}}else if(e.default.isPrimitive(t))throw{code:400,content:"wxmpTemplateMsg must be an object."}},t.prototype.validateObject=function(t,n){if(e.default.isUndef(t)||!e.default.isObject(t))throw{code:400,content:n+" must be an object."}},t.prototype.validateString=function(t,n){if(e.default.isUndef(t)||!e.default.isString(t))throw{code:400,content:n+" must be a string."}},t}(),o=new n;t.default=o}(ve);var ge={};!function(t){t.__esModule=!0,t.default=function t(e){if(null===e||"object"!==a(e)||"isActiveClone"in e)return e;var n=e instanceof Array?[]:{};for(var o in e)"object"===a(e[o])?n[o]=t(e[o]):n[o]=e[o];return n}}(ge),function(t){t.__esModule=!0;var e=me,n=et,o=lt,r=pt,i=ve,s=te,a=ge,c=function(){function t(){}return t.prototype.publish=function(t){n.default.isFunction(t.onFailed)||(t.onFailed=e.default),n.default.isFunction(t.onSuccess)||(t.onSuccess=e.default),this.validate(t),t.channel=t.channel.toString();var i={channel:t.channel,content:t.message,nt:t.notification,at:t.accessToken,guid:s.UUID.get(),q:t.qos};t.wxmpTemplateMsg&&(i.wxmpTemplateMsg=(0,a.default)(t.wxmpTemplateMsg),i.wxmpTemplateMsg.data=JSON.stringify(i.wxmpTemplateMsg.data));var c=new s.Rocket({name:r.RocketTypes.publish,params:i,unique:!0,singleTimeout:o.SocketTimeout.commonRequestSingle,totalTimeout:o.SocketTimeout.commonRequestTotal,permission:s.Permission.WRITE,success:function(e){t.onSuccess({code:200,content:"ok"})},fail:function(e){t.onFailed({code:e.resultCode,content:e.content})}});s.G.Socket.e(c)},t.prototype.validate=function(t){if(i.default.validateChannel(t.channel,"channel"),n.default.isEmpty(t.message))throw{code:400,content:"message is required."};if(!n.default.isString(t.message))throw{code:400,content:"TypeError: message requires string."};if(t.message.length>1e4)throw{code:400,content:"Message over max length 10000."};if(t.qos&&!(t.qos in[0,1]))throw{code:400,content:"Qos must be 0 or 1."};t.wxmpTemplateMsg&&i.default.validateWXMPTemplateMsg(t.wxmpTemplateMsg),n.default.isDef(t.notification)&&i.default.validateNotification(t.notification)},t}();t.default=c}(ye);var be={},Se={__esModule:!0,Subscription:void 0},we=et,Ee=function(t){if(this.options=t,this.channels=t.channels||[t.channel],!we.default.isEmpty(t.channel)){var e=t.channel.toString();this.channels=[e]}we.default.isEmpty(t.channels)||(this.channels=t.channels.toString().split(","))};Se.Subscription=Ee;var ke={};!function(t){t.__esModule=!0,t.RemoteEvents=void 0,function(t){t.message="message",t.imMessage="imMessage",t.userPresence="userPresence",t.groupPresence="groupPresence",t.PS_PRESENCE_EVENT="PS_PRESENCE_EVENT",t.IM_MSG_READ="IM_MSG_READ",t.IM_MSG_DELETED="IM_MSG_DELETED",t.IM_MSG_RECALLED="IM_MSG_RECALLED",t.CS_ONLINE_CHANGED="CS_ONLINE_CHANGED"}(t.RemoteEvents||(t.RemoteEvents={}))}(ke);var _e={};!function(t){t.__esModule=!0,t.SocketEvent=void 0,function(t){t.CONNECTED="CONNECTED",t.RECONNECTED="RECONNECTED",t.DISCONNECTED="DISCONNECTED",t.LOST="LOST",t.EXPIRED_RECONNECTED="EXPIRED_RECONNECTED",t.NEW_MESSAGE="NEW_MESSAGE",t.CONNECTING="CONNECTING"}(t.SocketEvent||(t.SocketEvent={}))}(_e),be.__esModule=!0,be.Subscriber=void 0;var Ce=et,Ne=Se,Oe=lt,Pe=pt,Te=ke,Re=ve,Ie=te,Me=ht,Ae=_e,De=function(){function t(){this.subscriptions=[],Ie.G.Socket.onMessage(Te.RemoteEvents.message,this.onNewMessage.bind(this)),Ie.G.Socket.on(Ae.SocketEvent.EXPIRED_RECONNECTED,this.expiredResubscribe.bind(this)),Ie.G.Socket.on(Ae.SocketEvent.CONNECTED,this.resubscribePresenceChannel.bind(this))}return t.prototype.expiredResubscribe=function(){var t=this;this.subscriptions.forEach((function(e){t.doSubscribe(e,!1)}))},t.prototype.resubscribePresenceChannel=function(){var t=this;this.subscriptions.forEach((function(e){var n=e.options;n.presence&&n.presence.enable&&t.doSubscribe(e,!0)}))},t.prototype.onNewMessage=function(t){if(!(t.n.indexOf("_presence")>-1)){t.a&&Ie.G.Socket.sendAck("ack",{i:t.i,c:t.n});var e={time:t.t,channel:t.n,content:t.c};this.createNotification(t),this.findSubscriptionByChannel(e.channel).options.onMessage(e)}},t.prototype.createNotification=function(t){var e=Ie.G.N.supportAppNotification();if(Ce.default.isObject(t.nt)&&e){var n={ch:t.n,ctt:t.c};Ie.G.N.createLocalNotification(t.nt.t,t.nt.c,n,t.nt.sound,t.nt.badge)}},t.prototype.subscribe=function(t){var e=this;if(Re.default.validateChannelAndChannels(t.channel,t.channels),Ce.default.isDef(t.presence)){var n=t.presence.enable;if(!Ce.default.isBoolean(n))throw{code:400,content:"Subscription failed. presence.enable must be a boolean"};if(n&&!Ie.G.Socket.user().id)throw{code:400,content:"Subscription failed. If presence is enable, the id must be specified when calling the connect method"}}var o=new Ne.Subscription(t);this.doSubscribe(o,!1).then((function(){e.subscriptions.push(o),Me.CallbackUtils.onSuccess(t,{code:200,content:"ok"})})).catch((function(e){Me.CallbackUtils.onFailed(t,{code:e.resultCode,content:e.content})}))},t.prototype.doSubscribe=function(t,e){var n=t.options;return new Promise((function(o,r){var i=new Ie.Rocket({name:Pe.RocketTypes.subscribe,permission:Ie.Permission.READ,singleTimeout:Oe.SocketTimeout.commonRequestSingle,totalTimeout:Oe.SocketTimeout.commonRequestTotal,params:{channels:t.channels,accessToken:n.accessToken,presence:n.presence,resubscribe:e},success:function(){o()},fail:function(t){r(t)}});Ie.G.Socket.e(i)}))},t.prototype.unsubscribe=function(t){var e=this;Re.default.validateChannel(t.channel,"channel"),t.channel=t.channel.toString();var n=this.findSubscriptionByChannel(t.channel);if(n){var o=new Ie.Rocket({name:Pe.RocketTypes.unsubscribe,params:{channel:t.channel,presence:n.options.presence},permission:Ie.Permission.READ,singleTimeout:Oe.SocketTimeout.commonRequestSingle,totalTimeout:Oe.SocketTimeout.commonRequestTotal,success:function(){t.onSuccess({code:200,content:"ok"}),e.removeChannel(t.channel)},fail:function(e){t.onFailed({code:e.resultCode,content:e.content})}});Ie.G.Socket.e(o)}else t.onFailed({code:400,content:"channel["+t.channel+"] is not subscribed"})},t.prototype.removeChannel=function(t){for(var e=this.subscriptions.length-1;e>=0;e--){var n=this.subscriptions[e].channels,o=n.indexOf(t);if(o>-1){n.splice(o,1),0===n.length&&this.subscriptions.splice(e,1);break}}},t.prototype.findSubscriptionByChannel=function(t){for(var e=!1,n=null,o=this.subscriptions.length-1;o>=0;o--){for(var r=this.subscriptions[o].channels,i=0;i<r.length;i++)if(r[i]==t){e=!0,n=this.subscriptions[o];break}if(e)break}return n},t}();be.Subscriber=De;var xe={__esModule:!0,History:void 0},Be=me,Ge=et,je=lt,Fe=pt,Ue=ve,Le=te,qe=function(){function t(){}return t.prototype.get=function(t){Ge.default.isFunction(t.onSuccess)||(t.onSuccess=Be.default),Ge.default.isFunction(t.onFailed)||(t.onFailed=Be.default),Ue.default.validateChannel(t.channel,"channel"),t.channel=t.channel.toString();var e=new Le.Rocket({name:Fe.RocketTypes.historyMessages,permission:Le.Permission.READ,params:t,singleTimeout:je.SocketTimeout.commonQuerySingle,totalTimeout:je.SocketTimeout.commonQueryTotal,success:function(e){t.onSuccess({code:e.resultCode||e.code||200,content:e.content})},fail:function(e){t.onFailed({code:e.resultCode||e.code,content:e.content})}});Le.G.Socket.e(e)},t}();xe.History=qe;var We={__esModule:!0};We.ChannelPresence=We.PresenceService=void 0;var ze=Y,He=te,Ve=lt,Je=ke,Xe=pt,Ye=et,Ke=_e,Qe=ve,$e=function(){function t(){var t=this;this.channelPresenceMap=new Map,this.onPresenceEvent=function(e){t.channelPresenceMap.get(e.channel).onPresence(e)},this.expireAllChannelPresences=function(){t.channelPresenceMap.forEach((function(t,e){t.expire()}))},this.resubscribe=function(){t.channelPresenceMap.forEach((function(t,e){t.subscribed()&&t.doSubscribe()}))},He.G.Socket.on(Ke.SocketEvent.LOST,this.expireAllChannelPresences),He.G.Socket.on(Ke.SocketEvent.RECONNECTED,this.resubscribe),He.G.Socket.onMessage(Je.RemoteEvents.PS_PRESENCE_EVENT,this.onPresenceEvent)}return t.prototype.hereNow=function(t){Qe.default.validateChannel(t.channel,"channel");var e,n=this.channelPresenceMap.get(t.channel.toString());n&&n.queryPromise?(t.limit&&t.limit>n.membersLimit&&n.doQuery(t.limit),e=n.queryPromise):e=tn(t.channel,t.limit),e.then((function(e){t.onSuccess(e)})).catch((function(e){t.onFailed(e)}))},t.prototype.subscribe=function(t){if(Qe.default.validateChannel(t.channel,"channel"),Ye.default.isUndef(t.onPresence)||!Ye.default.isFunction(t.onPresence))throw{code:400,content:"Subscription Presence failed. onPresence callback function is required"};var e=t.channel.toString(),n=this.channelPresenceMap.get(e);n||(n=new Ze(e),this.channelPresenceMap.set(e,n)),n.subscribe(t)},t.prototype.unsubscribe=function(t){var e=this;Qe.default.validateChannel(t.channel,"channel");var n=t.channel.toString();if(this.channelPresenceMap.get(n)){var o=new He.Rocket({name:Xe.RocketTypes.PUBSUB_PRESENCE_UNSUBSCRIBE,permission:He.Permission.WRITE,singleTimeout:Ve.SocketTimeout.commonRequestSingle,totalTimeout:Ve.SocketTimeout.commonRequestTotal,params:{channel:n},success:function(o){e.channelPresenceMap.delete(n),t.onSuccess()},fail:function(e){t.onFailed(e)}});He.G.Socket.e(o)}else t.onSuccess()},t}();We.PresenceService=$e;var Ze=function(){function t(t){this.membersLimit=10,this.queried=!1,this.channel=t}return t.prototype.onPresence=function(t){return ze.__awaiter(this,void 0,void 0,(function(){return ze.__generator(this,(function(e){switch(e.label){case 0:return this.queried?(this.update(t),[3,3]):[3,1];case 1:return[4,this.queryPromise];case 2:e.sent(),e.label=3;case 3:return this.on({channel:this.channel,action:t.action,member:t.member,time:t.time,amount:this.amount,members:this.membersByLimit()}),[2]}}))}))},t.prototype.membersByLimit=function(){return this.members.slice(0,this.membersLimit)},t.prototype.subscribe=function(t){return ze.__awaiter(this,void 0,void 0,(function(){var e;return ze.__generator(this,(function(n){switch(n.label){case 0:if(t.membersLimit&&(this.membersLimit=Math.min(t.membersLimit,300)),this.subscribed())return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.doSubscribe()];case 2:return n.sent(),[3,4];case 3:return e=n.sent(),t.onFailed(e),[2];case 4:return this.on=t.onPresence,t.onSuccess(),[2]}}))}))},t.prototype.doSubscribe=function(){var t=this;return this.doQuery(this.membersLimit),new Promise((function(e,n){var o=new He.Rocket({name:Xe.RocketTypes.PUBSUB_PRESENCE_SUBSCRIBE,permission:He.Permission.READ,params:{channel:t.channel},singleTimeout:Ve.SocketTimeout.commonRequestSingle,totalTimeout:Ve.SocketTimeout.commonRequestTotal,success:function(t){e()},fail:function(t){n(t)}});He.G.Socket.e(o)}))},t.prototype.doQuery=function(t){var e=this;this.queryPromise=tn(this.channel,t),this.queryPromise.then((function(t){e.members=t.content.members,e.amount=t.content.amount,e.queried=!0})).catch((function(t){throw t}))},t.prototype.update=function(t){if(["join","back"].includes(t.action))this.members.unshift(t.member);else if(["leave","timeout"].includes(t.action)){var e=this.members.findIndex((function(e){return e.id===t.member.id}));e>-1&&this.members.splice(e,1)}this.amount=t.amount},t.prototype.expire=function(){this.queried=!1,this.queryPromise=null},t.prototype.subscribed=function(){return void 0!==this.on},t}();function tn(t,e){return e||(e=10),new Promise((function(n,o){var r={channel:t,limit:e},i=new He.Rocket({name:Xe.RocketTypes.PUBSUB_PRESENCE_HERENOW,permission:He.Permission.READ,params:r,singleTimeout:Ve.SocketTimeout.commonQuerySingle,totalTimeout:Ve.SocketTimeout.commonQueryTotal,success:function(t){n(t)},fail:function(t){o(t)}});He.G.Socket.e(i)}))}We.ChannelPresence=Ze,de.__esModule=!0,de.PubSub=void 0;var en=ye,nn=be,on=xe,rn=We,sn=function(){function t(){this.publisher=new en.default,this.subscriber=new nn.Subscriber,this.presence2=new rn.PresenceService,this.histories=new on.History}return t.init=function(){this.instance=new t},t.prototype.publish=function(t){this.publisher.publish(t)},t.prototype.subscribe=function(t){this.subscriber.subscribe(t)},t.prototype.unsubscribe=function(t){this.subscriber.unsubscribe(t)},t.prototype.subscribePresence=function(t){this.presence2.subscribe(t)},t.prototype.unsubscribePresence=function(t){this.presence2.unsubscribe(t)},t.prototype.history=function(t){this.histories.get(t)},t.prototype.hereNow=function(t){this.presence2.hereNow(t)},t}();de.PubSub=sn,he.__esModule=!0,he.GWSModule=void 0;var an=Y,cn=de,un=Z,fn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return an.__extends(e,t),e.init=function(){return this.module=new e,this.module.name=this.GWS_MODULE_NAME,this.initGN(),this.module},e.initGN=function(){un.GN.addAssembler(new(function(){function t(){}return t.prototype.assemble=function(t){return{channel:t.ch,content:t.ctt}},t.prototype.support=function(t){return!!t.ch},t}()))},e.prototype.postConnect=function(){cn.PubSub.init()},e.check=function(){if(!this.module)throw new Error("PubSub not initialized. Please include 'PUBSUB' in the 'modules' during GoEasy initialization.")},e.GWS_MODULE_NAME="GWS",e}(te.GModule);he.GWSModule=fn;var pn={},ln={},hn={},dn={exports:{}},yn=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,mn=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],vn=function(t){var e=t,n=t.indexOf("["),o=t.indexOf("]");-1!=n&&-1!=o&&(t=t.substring(0,n)+t.substring(n,o).replace(/:/g,";")+t.substring(o,t.length));for(var r=yn.exec(t||""),i={},s=14;s--;)i[mn[s]]=r[s]||"";return-1!=n&&-1!=o&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i},gn={exports:{}},bn={exports:{}},Sn=1e3,wn=60*Sn,En=60*wn,kn=24*En,_n=365.25*kn,Cn=function(t,e){e=e||{};var n=a(t);if("string"===n&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*_n;case"days":case"day":case"d":return n*kn;case"hours":case"hour":case"hrs":case"hr":case"h":return n*En;case"minutes":case"minute":case"mins":case"min":case"m":return n*wn;case"seconds":case"second":case"secs":case"sec":case"s":return n*Sn;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(t);if("number"===n&&!1===isNaN(t))return e.long?function(t){return Nn(t,kn,"day")||Nn(t,En,"hour")||Nn(t,wn,"minute")||Nn(t,Sn,"second")||t+" ms"}(t):function(t){if(t>=kn)return Math.round(t/kn)+"d";if(t>=En)return Math.round(t/En)+"h";if(t>=wn)return Math.round(t/wn)+"m";if(t>=Sn)return Math.round(t/Sn)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Nn(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}!function(t,e){function n(t){var n;function r(){if(r.enabled){var t=r,o=+new Date,i=o-(n||o);t.diff=i,t.prev=n,t.curr=o,n=o;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,o){if("%%"===n)return n;c++;var r=e.formatters[o];if("function"==typeof r){var i=s[c];n=r.call(t,i),s.splice(c,1),c--}return n})),e.formatArgs.call(t,s),(r.log||e.log||console.log.bind(console)).apply(t,s)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=function(t){var n,o=0;for(n in t)o=(o<<5)-o+t.charCodeAt(n),o|=0;return e.colors[Math.abs(o)%e.colors.length]}(t),r.destroy=o,"function"==typeof e.init&&e.init(r),e.instances.push(r),r}function o(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=n.debug=n.default=n).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var o=("string"==typeof t?t:"").split(/[\s,]+/),r=o.length;for(n=0;n<r;n++)o[n]&&("-"===(t=o[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var i=e.instances[n];i.enabled=e.enabled(i.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,o;for(n=0,o=e.skips.length;n<o;n++)if(e.skips[n].test(t))return!1;for(n=0,o=e.names.length;n<o;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=Cn,e.instances=[],e.names=[],e.skips=[],e.formatters={}}(bn,bn.exports),function(t,e){function n(){var t;try{t=e.storage.debug}catch(t){}return!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG),t}(e=t.exports=bn.exports).log=function(){return"object"===("undefined"==typeof console?"undefined":a(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var o="color: "+this.color;t.splice(1,0,o,"color: inherit");var r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(r++,"%c"===t&&(i=r))})),t.splice(i,0,o)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=n,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(n())}(gn,gn.exports);var On=vn,Pn=gn.exports("socket.io-client:url"),Tn=function(t,e){var n=t;e=e||"undefined"!=typeof location&&location,null==t&&(t=e.protocol+"//"+e.host);"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(Pn("protocol-less url %s",t),t=void 0!==e?e.protocol+"//"+t:"https://"+t),Pn("parse %s",t),n=On(t));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var o=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port,n.href=n.protocol+"://"+o+(e&&e.port===n.port?"":":"+n.port),n};var Rn={},In={}.toString,Mn=Array.isArray||function(t){return"[object Array]"==In.call(t)};!function(t){gn.exports("socket.io-parser");var e=vt.exports,n=Mn;function o(){}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=o,t.Decoder=i;var r=t.ERROR+'"encode error"';function i(){this.reconstructor=null}function s(e){return{type:t.ERROR,data:"parser error: "+e}}o.prototype.encode=function(e,n){var o=function(e){var n=""+e.type;t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(n+=e.attachments+"-");e.nsp&&"/"!==e.nsp&&(n+=e.nsp+",");null!=e.id&&(n+=e.id);if(null!=e.data){var o=function(t){try{return JSON.stringify(t)}catch(t){return!1}}(e.data);if(!1===o)return r;n+=o}return n}(e);n([o])},e(i.prototype),i.prototype.add=function(e){var o;if("string"!=typeof e)throw new Error("Unknown type: "+e);o=function(e){var o=0,r={type:Number(e.charAt(0))};if(null==t.types[r.type])return s("unknown packet type "+r.type);if(t.BINARY_EVENT===r.type||t.BINARY_ACK===r.type){for(var i="";"-"!==e.charAt(++o)&&(i+=e.charAt(o),o!=e.length););if(i!=Number(i)||"-"!==e.charAt(o))throw new Error("Illegal attachments");r.attachments=Number(i)}if("/"===e.charAt(o+1))for(r.nsp="";++o;){if(","===(c=e.charAt(o)))break;if(r.nsp+=c,o===e.length)break}else r.nsp="/";var a=e.charAt(o+1);if(""!==a&&Number(a)==a){for(r.id="";++o;){var c;if(null==(c=e.charAt(o))||Number(c)!=c){--o;break}if(r.id+=e.charAt(o),o===e.length)break}r.id=Number(r.id)}if(e.charAt(++o)){var u=function(t){try{return JSON.parse(t)}catch(t){return!1}}(e.substr(o));if(!(!1!==u&&(r.type===t.ERROR||n(u))))return s("invalid payload");r.data=u}return r}(e),this.emit("decoded",o)},i.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}(Rn);var An={exports:{}},Dn={},xn={},Bn=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var o in t)n.call(t,o)&&e.push(o);return e},Gn=Mn,jn=Object.prototype.toString,Fn="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===jn.call(Blob),Un="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===jn.call(File),Ln=function t(e){if(!e||"object"!==a(e))return!1;if(Gn(e)){for(var n=0,o=e.length;n<o;n++)if(t(e[n]))return!0;return!1}if("function"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(e)||"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||Fn&&e instanceof Blob||Un&&e instanceof File)return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return t(e.toJSON(),!0);for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return!0;return!1};var qn=function(t,e,n){var o=!1;return n=n||Wn,r.count=t,0===t?e():r;function r(t,i){if(r.count<=0)throw new Error("after called too many times");--r.count,t?(o=!0,e(t),e=n):0!==r.count||o||e(null,i)}};function Wn(){}var zn,Hn,Vn,Jn=String.fromCharCode;function Xn(t){for(var e,n,o=[],r=0,i=t.length;r<i;)(e=t.charCodeAt(r++))>=55296&&e<=56319&&r<i?56320==(64512&(n=t.charCodeAt(r++)))?o.push(((1023&e)<<10)+(1023&n)+65536):(o.push(e),r--):o.push(e);return o}function Yn(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function Kn(t,e){return Jn(t>>e&63|128)}function Qn(t,e){if(0==(4294967168&t))return Jn(t);var n="";return 0==(4294965248&t)?n=Jn(t>>6&31|192):0==(4294901760&t)?(Yn(t,e)||(t=65533),n=Jn(t>>12&15|224),n+=Kn(t,6)):0==(4292870144&t)&&(n=Jn(t>>18&7|240),n+=Kn(t,12),n+=Kn(t,6)),n+=Jn(63&t|128)}function $n(){if(Vn>=Hn)throw Error("Invalid byte index");var t=255&zn[Vn];if(Vn++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function Zn(t){var e,n;if(Vn>Hn)throw Error("Invalid byte index");if(Vn==Hn)return!1;if(e=255&zn[Vn],Vn++,0==(128&e))return e;if(192==(224&e)){if((n=(31&e)<<6|$n())>=128)return n;throw Error("Invalid continuation byte")}if(224==(240&e)){if((n=(15&e)<<12|$n()<<6|$n())>=2048)return Yn(n,t)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&(n=(7&e)<<18|$n()<<12|$n()<<6|$n())>=65536&&n<=1114111)return n;throw Error("Invalid UTF-8 detected")}var to={version:"2.1.2",encode:function(t,e){for(var n=!1!==(e=e||{}).strict,o=Xn(t),r=o.length,i=-1,s="";++i<r;)s+=Qn(o[i],n);return s},decode:function(t,e){var n=!1!==(e=e||{}).strict;zn=Xn(t),Hn=zn.length,Vn=0;for(var o,r=[];!1!==(o=Zn(n));)r.push(o);return function(t){for(var e,n=t.length,o=-1,r="";++o<n;)(e=t[o])>65535&&(r+=Jn((e-=65536)>>>10&1023|55296),e=56320|1023&e),r+=Jn(e);return r}(r)}},eo=void 0!==eo?eo:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,no=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),oo=no&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),ro=eo&&eo.prototype.append&&eo.prototype.getBlob;function io(t){return t.map((function(t){if(t.buffer instanceof ArrayBuffer){var e=t.buffer;if(t.byteLength!==e.byteLength){var n=new Uint8Array(t.byteLength);n.set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=n.buffer}return e}return t}))}function so(t,e){e=e||{};var n=new eo;return io(t).forEach((function(t){n.append(t)})),e.type?n.getBlob(e.type):n.getBlob()}function ao(t,e){return new Blob(io(t),e||{})}"undefined"!=typeof Blob&&(so.prototype=Blob.prototype,ao.prototype=Blob.prototype);var co=no?oo?Blob:ao:ro?so:void 0;!function(t){var e=Bn,n=Ln,o=qn,r=to;"undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),"undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),t.protocol=3;var i=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},s=e(i),a={type:"error",data:"parser error"},c=co;t.encodePacket=function(t,e,n,o){"function"==typeof e&&(o=e,e=!1),"function"==typeof n&&(o=n,n=null),void 0===t.data||t.data.buffer||t.data;var s=i[t.type];return void 0!==t.data&&(s+=n?r.encode(String(t.data),{strict:!1}):String(t.data)),o(""+s)},t.decodePacket=function(t,e,n){if(void 0===t)return a;if("string"==typeof t){if(n&&!1===(t=function(t){try{t=r.decode(t,{strict:!1})}catch(t){return!1}return t}(t)))return a;var o=t.charAt(0);return Number(o)==o&&s[o]?t.length>1?{type:s[o],data:t.substring(1)}:{type:s[o]}:a}o=new Uint8Array(t)[0];var i=sliceBuffer(t,1);return c&&"blob"===e&&(i=new c([i])),{type:s[o],data:i}},t.encodePayload=function(e,r,i){"function"==typeof r&&(i=r,r=null);var s=n(e);if(!e.length)return i("0:");!function(t,e,n){for(var r=new Array(t.length),i=o(t.length,n),s=function(t,n,o){e(n,(function(e,n){r[t]=n,o(e,r)}))},a=0;a<t.length;a++)s(a,t[a],i)}(e,(function(e,n){t.encodePacket(e,!!s&&r,!0,(function(t){n(null,function(t){return t.length+":"+t}(t))}))}),(function(t,e){return i(e.join(""))}))},t.decodePayload=function(e,n,o){var r;if("function"==typeof n&&(o=n,n=null),""===e)return o(a,0,1);for(var i,s,c="",u=0,f=e.length;u<f;u++){var p=e.charAt(u);if(":"===p){if(""===c||c!=(i=Number(c)))return o(a,0,1);if(c!=(s=e.substr(u+1,i)).length)return o(a,0,1);if(s.length){if(r=t.decodePacket(s,n,!0),a.type===r.type&&a.data===r.data)return o(a,0,1);if(!1===o(r,u+i,f))return}u+=i,c=""}else c+=p}return""!==c?o(a,0,1):void 0}}(xn);var uo=xn,fo=po;function po(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.isReactNative=t.isReactNative,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}(0,vt.exports)(po.prototype),po.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},po.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},po.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},po.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},po.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},po.prototype.onData=function(t){var e=uo.decodePacket(t,this.socket.binaryType);this.onPacket(e)},po.prototype.onPacket=function(t){this.emit("packet",t)},po.prototype.onClose=function(){this.readyState="closed",this.emit("close")};var lo,ho={encode:function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},decode:function(t){for(var e={},n=t.split("&"),o=0,r=n.length;o<r;o++){var i=n[o].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}},yo=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t},mo="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),vo=64,go={},bo=0,So=0;function wo(t){var e="";do{e=mo[t%vo]+e,t=Math.floor(t/vo)}while(t>0);return e}function Eo(){var t=wo(+new Date);return t!==lo?(bo=0,lo=t):t+"."+wo(bo++)}for(;So<vo;So++)go[mo[So]]=So;Eo.encode=wo,Eo.decode=function(t){var e=0;for(So=0;So<t.length;So++)e=e*vo+go[t.charAt(So)];return e};var ko=Eo,_o={exports:{}};try{_o.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){_o.exports=!1}var Co=_o.exports,No=function(t){var e=t.xdomain,n=t.xscheme,o=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||Co))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(t){}if(!e)try{return new(self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}},Oo=fo,Po=ho,To=xn,Ro=yo,Io=ko,Mo=gn.exports("engine.io-client:polling"),Ao=xo,Do=null!=new No({xdomain:!1}).responseType;function xo(t){var e=t&&t.forceBase64;Do&&!e||(this.supportsBinary=!1),Oo.call(this,t)}Ro(xo,Oo),xo.prototype.name="polling",xo.prototype.doOpen=function(){this.poll()},xo.prototype.pause=function(t){var e=this;function n(){Mo("paused"),e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){var o=0;this.polling&&(Mo("we are currently polling - waiting to pause"),o++,this.once("pollComplete",(function(){Mo("pre-pause polling complete"),--o||n()}))),this.writable||(Mo("we are currently writing - waiting to pause"),o++,this.once("drain",(function(){Mo("pre-pause writing complete"),--o||n()})))}else n()},xo.prototype.poll=function(){Mo("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},xo.prototype.onData=function(t){var e=this;Mo("polling got data %s",t);To.decodePayload(t,this.socket.binaryType,(function(t,n,o){if("opening"===e.readyState&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():Mo('ignoring poll - transport state "%s"',this.readyState))},xo.prototype.doClose=function(){var t=this;function e(){Mo("writing close packet"),t.write([{type:"close"}])}"open"===this.readyState?(Mo("transport open - closing"),e()):(Mo("transport not open - deferring close"),this.once("open",e))},xo.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")};To.encodePayload(t,this.supportsBinary,(function(t){e.doWrite(t,n)}))},xo.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=Io()),this.supportsBinary||t.sid||(t.b64=1),t=Po.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t};var Bo,Go=Ao,jo=Wo,Fo=/\n/g,Uo=/\\n/g;function Lo(){}function qo(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{}}function Wo(t){if(Go.call(this,t),this.query=this.query||{},!Bo){var e=qo();Bo=e.___eio=e.___eio||[]}this.index=Bo.length;var n=this;Bo.push((function(t){n.onData(t)})),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){n.script&&(n.script.onerror=Lo)}),!1)}yo(Wo,Go),Wo.prototype.supportsBinary=!1,Wo.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),Go.prototype.doClose.call(this)},Wo.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)}),100)},Wo.prototype.doWrite=function(t,e){var n=this;if(!this.form){var o,r=document.createElement("form"),i=document.createElement("textarea"),s=this.iframeId="eio_iframe_"+this.index;r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=s,r.method="POST",r.setAttribute("accept-charset","utf-8"),i.name="d",r.appendChild(i),document.body.appendChild(r),this.form=r,this.area=i}function a(){c(),e()}function c(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+n.iframeId+'">';o=document.createElement(t)}catch(t){(o=document.createElement("iframe")).name=n.iframeId,o.src="javascript:0"}o.id=n.iframeId,n.form.appendChild(o),n.iframe=o}this.form.action=this.uri(),c(),t=t.replace(Uo,"\\\n"),this.area.value=t.replace(Fo,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&a()}:this.iframe.onload=a};var zo,Ho,Vo=fo,Jo=xn,Xo=ho,Yo=yo,Ko=ko,Qo=gn.exports("engine.io-client:websocket");("undefined"==typeof uni&&"undefined"==typeof wx&&"undefined"==typeof my&&"undefined"==typeof swan||"undefined"!=typeof WebSocket)&&("undefined"!=typeof WebSocket?zo=WebSocket:"undefined"!=typeof self?zo=self.WebSocket||self.MozWebSocket:function(){try{Ho=require("ws")}catch(t){}}());var $o=zo||Ho;("undefined"==typeof uni&&"undefined"==typeof wx&&"undefined"==typeof my&&"undefined"==typeof swan||"undefined"!=typeof WebSocket)&&"undefined"==typeof GameGlobal||($o=function(t){var e=this;if(e.onopen=function(){},e.onclose=function(){},e.onmessage=function(t){},e.onerror=function(t){},"object"===("undefined"==typeof tt?"undefined":a(tt))&&tt.getSystemInfo){var n=tt.connectSocket({url:t});e.send=function(t){n.send({data:t})},e.close=function(){n.close()},n.onOpen((function(){e.onopen()})),n.onError((function(t){e.onerror(t)})),n.onMessage((function(t){e.onmessage(t)})),n.onClose((function(){e.onclose()}))}else if("undefined"!=typeof my)my.connectSocket({url:t}),e.send=function(t){my.sendSocketMessage({data:t})},e.close=function(t){my.closeSocket()},my.onSocketOpen((function(t){e.onopen()})),my.onSocketError((function(t){e.onerror(t)})),my.onSocketMessage((function(t){e.onmessage(t)})),my.onSocketClose((function(t){e.onclose(t)}));else if("undefined"!=typeof swan)swan.connectSocket({url:t}),e.send=function(t){swan.sendSocketMessage({data:t})},e.close=function(t){swan.closeSocket()},swan.onSocketOpen((function(t){e.onopen()})),swan.onSocketError((function(t){e.onerror(t)})),swan.onSocketMessage((function(t){e.onmessage(t)})),swan.onSocketClose((function(t){e.onclose(t)}));else if("undefined"!=typeof uni){var o=uni.connectSocket({url:t,complete:function(){}});e.send=function(t){o.send({data:t})},e.close=function(){o.close()},o.onOpen((function(t){e.onopen()})),o.onError((function(t){e.onerror(t)})),o.onMessage((function(t){e.onmessage(t)})),o.onClose((function(t){e.onclose()}))}else{var r=wx.connectSocket({url:t});e.send=function(t){r.send({data:t})},e.close=function(t){r.close({code:1e3})},r.onOpen((function(){e.onopen()})),r.onError((function(t){e.onerror(t)})),r.onMessage((function(t){e.onmessage(t)})),r.onClose((function(t){e.onclose(t)}))}});var Zo=tr;function tr(t){t&&t.forceBase64&&(this.supportsBinary=!1),("undefined"==typeof uni&&"undefined"==typeof wx&&"undefined"==typeof my&&"undefined"==typeof swan||"undefined"!=typeof WebSocket)&&(this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=zo&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||($o=Ho)),Vo.call(this,t)}Yo(tr,Vo),tr.prototype.name="websocket",tr.prototype.supportsBinary=!1,tr.prototype.doOpen=function(){var t=this;if(this.check()){var e,n,o=this.uri();if(("undefined"==typeof uni&&"undefined"==typeof wx&&"undefined"==typeof my&&"undefined"==typeof swan||"undefined"!=typeof WebSocket)&&(e=this.protocols),(n="undefined"==typeof uni&&"undefined"==typeof wx&&"undefined"==typeof my&&"undefined"==typeof swan||"undefined"!=typeof WebSocket?{agent:this.agent,perMessageDeflate:this.perMessageDeflate}:{agent:this.agent}).pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,"object"===("undefined"==typeof navigator?"undefined":a(navigator))&&"ReactNative"===navigator.product&&(n={}),this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress),"undefined"!=typeof cc&&"Windows"===cc.sys.os)cc.resources.load("cacert",(function(e,n){var r=n.nativeUrl;t.ws=new $o(o,[],r),t.ws.binaryType="arraybuffer",t.addEventListeners()}));else{try{"undefined"==typeof uni&&"undefined"==typeof wx&&"undefined"==typeof my&&"undefined"==typeof swan||"undefined"!=typeof WebSocket?this.ws=this.usingBrowserWebSocket&&!this.isReactNative?e?new $o(o,e):new $o(o):new $o(o,e,n):this.ws=new $o(o)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}}},tr.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},tr.prototype.write=function(t){var e=this;this.writable=!1;for(var n=t.length,o=0,r=n;o<r;o++)!function(t){Jo.encodePacket(t,e.supportsBinary,(function(o){if("undefined"==typeof uni&&"undefined"==typeof wx&&"undefined"==typeof my&&"undefined"==typeof swan||"undefined"!=typeof WebSocket){if(!e.usingBrowserWebSocket){var r={};if(t.options&&(r.compress=t.options.compress),e.perMessageDeflate)("string"==typeof o?Buffer.byteLength(o):o.length)<e.perMessageDeflate.threshold&&(r.compress=!1)}try{e.usingBrowserWebSocket?e.ws.send(o):e.ws.send(o,r)}catch(t){Qo("websocket closed before onclose event")}}else try{e.ws.send(o)}catch(t){Qo("websocket closed before onclose event")}--n||i()}))}(t[o]);function i(){e.emit("flush"),setTimeout((function(){e.writable=!0,e.emit("drain")}),0)}},tr.prototype.onClose=function(){Vo.prototype.onClose.call(this)},tr.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},tr.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=Ko()),this.supportsBinary||(t.b64=1),(t=Xo.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t},tr.prototype.check=function(){return!(!$o||"__initialize"in $o&&this.name===tr.prototype.name)};var er=jo,nr=Zo;Dn.polling=function(t){var e=!1,n=!1;if(t.jsonp,"undefined"!=typeof location){var o="https:"===location.protocol,r=location.port;r||(r=o?443:80),e=t.hostname!==location.hostname||r!==t.port,n=t.secure!==o}return t.xdomain=e,t.xscheme=n,new er(t)},Dn.websocket=nr;var or=[].indexOf,rr=function(t,e){if(or)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1},ir=Dn,sr=vt.exports,ar=gn.exports("engine.io-client:socket"),cr=rr,ur=xn,fr=vn,pr=ho,lr=hr;function hr(t,e){if(!(this instanceof hr))return new hr(t,e);e=e||{},t&&"object"===a(t)&&(e=t,t=null),t?(t=fr(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=fr(e.host).host),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=pr.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.transportOptions=e.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=void 0===e.rejectUnauthorized||e.rejectUnauthorized,this.forceNode=!!e.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(e.extraHeaders&&Object.keys(e.extraHeaders).length>0&&(this.extraHeaders=e.extraHeaders),e.localAddress&&(this.localAddress=e.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}hr.priorWebsocketSuccess=!1,sr(hr.prototype),hr.protocol=ur.protocol,hr.Socket=hr,hr.Transport=fo,hr.transports=Dn,hr.parser=xn,hr.prototype.createTransport=function(t){ar('creating transport "%s"',t);var e=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.query);e.EIO=ur.protocol,e.transport=t;var n=this.transportOptions[t]||{};return this.id&&(e.sid=this.id),new ir[t]({query:e,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},hr.prototype.open=function(){var t;if(this.rememberUpgrade&&hr.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout((function(){e.emit("error","No transports available")}),0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},hr.prototype.setTransport=function(t){ar("setting transport %s",t.name);var e=this;this.transport&&(ar("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",(function(){e.onDrain()})).on("packet",(function(t){e.onPacket(t)})).on("error",(function(t){e.onError(t)})).on("close",(function(){e.onClose("transport close")}))},hr.prototype.probe=function(t){ar('probing transport "%s"',t);var e=this.createTransport(t,{probe:1}),n=!1,o=this;function r(){if(o.onlyBinaryUpgrades){var r=!this.supportsBinary&&o.transport.supportsBinary;n=n||r}n||(ar('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",(function(r){if(!n)if("pong"===r.type&&"probe"===r.data){if(ar('probe transport "%s" pong',t),o.upgrading=!0,o.emit("upgrading",e),!e)return;hr.priorWebsocketSuccess="websocket"===e.name,ar('pausing current transport "%s"',o.transport.name),o.transport.pause((function(){n||"closed"!==o.readyState&&(ar("changing transport and sending upgrade packet"),f(),o.setTransport(e),e.send([{type:"upgrade"}]),o.emit("upgrade",e),e=null,o.upgrading=!1,o.flush())}))}else{ar('probe transport "%s" failed',t);var i=new Error("probe error");i.transport=e.name,o.emit("upgradeError",i)}})))}function i(){n||(n=!0,f(),e.close(),e=null)}function s(n){var r=new Error("probe error: "+n);r.transport=e.name,i(),ar('probe transport "%s" failed because of error: %s',t,n),o.emit("upgradeError",r)}function a(){s("transport closed")}function c(){s("socket closed")}function u(t){e&&t.name!==e.name&&(ar('"%s" works - aborting "%s"',t.name,e.name),i())}function f(){e.removeListener("open",r),e.removeListener("error",s),e.removeListener("close",a),o.removeListener("close",c),o.removeListener("upgrading",u)}hr.priorWebsocketSuccess=!1,e.once("open",r),e.once("error",s),e.once("close",a),this.once("close",c),this.once("upgrading",u),e.open()},hr.prototype.onOpen=function(){if(ar("socket open"),this.readyState="open",hr.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){ar("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},hr.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(ar('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else ar('packet received with socket readyState "%s"',this.readyState)},hr.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},hr.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout((function(){"closed"!==e.readyState&&e.onClose("ping timeout")}),t||e.pingInterval+e.pingTimeout)},hr.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout((function(){ar("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)}),t.pingInterval)},hr.prototype.ping=function(){var t=this;this.sendPacket("ping",(function(){t.emit("ping")}))},hr.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},hr.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(ar("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},hr.prototype.write=hr.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},hr.prototype.sendPacket=function(t,e,n,o){if("function"==typeof e&&(o=e,e=void 0),"function"==typeof n&&(o=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var r={type:t,data:e,options:n};this.emit("packetCreate",r),this.writeBuffer.push(r),o&&this.once("flush",o),this.flush()}},hr.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var t=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?o():e()})):this.upgrading?o():e()}function e(){t.onClose("forced close"),ar("socket closing - telling transport to close"),t.transport.close()}function n(){t.removeListener("upgrade",n),t.removeListener("upgradeError",n),e()}function o(){t.once("upgrade",n),t.once("upgradeError",n)}return this},hr.prototype.onError=function(t){ar("socket error %j",t),hr.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},hr.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){ar('socket close with reason: "%s"',t);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0}},hr.prototype.filterUpgrades=function(t){for(var e=[],n=0,o=t.length;n<o;n++)~cr(this.transports,t[n])&&e.push(t[n]);return e},An.exports=lr,An.exports.parser=xn;var dr={exports:{}},yr=function(t,e){for(var n=[],o=(e=e||0)||0;o<t.length;o++)n[o-e]=t[o];return n};var mr=function(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}};var vr=[].slice,gr=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var n=vr.call(arguments,2);return function(){return e.apply(t,n.concat(vr.call(arguments)))}};!function(t,e){var n=Rn,o=vt.exports,r=yr,i=mr,s=gr,c=(gn.exports("socket.io-client:socket"),ho),u=Ln;t.exports=l;var f={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},p=o.prototype.emit;function l(t,e,n){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}o(l.prototype),l.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[i(t,"open",s(this,"onopen")),i(t,"packet",s(this,"onpacket")),i(t,"close",s(this,"onclose"))]}},l.prototype.open=l.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},l.prototype.send=function(){var t=r(arguments);return t.unshift("message"),this.emit.apply(this,t),this},l.prototype.emit=function(t){if(f.hasOwnProperty(t))return p.apply(this,arguments),this;var e=r(arguments),o={type:(void 0!==this.flags.binary?this.flags.binary:u(e))?n.BINARY_EVENT:n.EVENT,data:e,options:{}};return o.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(this.ids,this.acks[this.ids]=e.pop(),o.id=this.ids++),this.connected?this.packet(o):this.sendBuffer.push(o),this.flags={},this},l.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},l.prototype.onopen=function(){if("/"!==this.nsp)if(this.query){var t="object"===a(this.query)?c.encode(this.query):this.query;this.packet({type:n.CONNECT,query:t})}else this.packet({type:n.CONNECT})},l.prototype.onclose=function(t){this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},l.prototype.onpacket=function(t){var e=t.nsp===this.nsp,o=t.type===n.ERROR&&"/"===t.nsp;if(e||o)switch(t.type){case n.CONNECT:this.onconnect();break;case n.EVENT:case n.BINARY_EVENT:this.onevent(t);break;case n.ACK:case n.BINARY_ACK:this.onack(t);break;case n.DISCONNECT:this.ondisconnect();break;case n.ERROR:this.emit("error",t.data)}},l.prototype.onevent=function(t){var e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?p.apply(this,e):this.receiveBuffer.push(e)},l.prototype.ack=function(t){var e=this,o=!1;return function(){if(!o){o=!0;var i=r(arguments);e.packet({type:u(i)?n.BINARY_ACK:n.ACK,id:t,data:i})}}},l.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(t.id,t.data,e.apply(this,t.data),delete this.acks[t.id]):t.id},l.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},l.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)p.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},l.prototype.ondisconnect=function(){this.nsp,this.destroy(),this.onclose("io server disconnect")},l.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},l.prototype.close=l.prototype.disconnect=function(){return this.connected&&(this.nsp,this.packet({type:n.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},l.prototype.compress=function(t){return this.flags.compress=t,this},l.prototype.binary=function(t){return this.flags.binary=t,this}}(dr);var br=Sr;function Sr(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Sr.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},Sr.prototype.reset=function(){this.attempts=0},Sr.prototype.setMin=function(t){this.ms=t},Sr.prototype.setMax=function(t){this.max=t},Sr.prototype.setJitter=function(t){this.jitter=t};var wr={__esModule:!0,URIResolver:void 0},Er=nt,kr=function(){function t(){}return t.init=function(t,e,n){this.host=t,(void 0!==e&&!1===e||!0===n)&&(this.https=!1)},t.isMP=function(){return[Er.PlatformType.MP_WX,Er.PlatformType.MP_ALI,Er.PlatformType.MP_BYTE,Er.PlatformType.MP_WGAME,Er.PlatformType.MP_BAIDU].includes(Er.PlatformDetector.currentPlatform())},t.uri=function(){var t="http";return this.https&&(t+="s"),t+"://"+this.index()+this.host},t.index=function(){return 0==this.i?this.i=Math.floor(Math.random()*(this.max-1)+1):this.i=this.i%this.max+1,this.i},t.i=0,t.max=5,t.https=!0,t}();wr.URIResolver=kr;var _r=An.exports,Cr=dr.exports,Nr=vt.exports,Or=Rn,Pr=mr,Tr=gr,Rr=(gn.exports("socket.io-client:manager"),rr),Ir=br,Mr=wr.URIResolver,Ar=ot.runStatus,Dr=Object.prototype.hasOwnProperty,xr=Br;function Br(t,e){if(!(this instanceof Br))return new Br(t,e);t&&"object"===a(t)&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new Ir({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=e.parser||Or;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}Br.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)Dr.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},Br.prototype.updateSocketIds=function(){for(var t in this.nsps)Dr.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},Br.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},Nr(Br.prototype),Br.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},Br.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},Br.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},Br.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},Br.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},Br.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},Br.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},Br.prototype.open=Br.prototype.connect=function(t,e){if(this.readyState,~this.readyState.indexOf("open"))return this;this.uri,this.engine=_r(this.uri,this.opts);var n=this.engine,o=this;this.readyState="opening",this.skipReconnect=!1;var r=Pr(n,"open",(function(){o.onopen(),t&&t()})),s=Pr(n,"error",function(){var e=function(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function s(t){c(i,o,r,s,a,"next",t)}function a(t){c(i,o,r,s,a,"throw",t)}s(void 0)}))}}(i().mark((function e(n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.uri=Mr.uri(),o.cleanup(),o.readyState="closed",o.emitAll("connect_error",n),t?((r=new Error("Connection error")).data=n,t(r)):o.maybeReconnectOnOpen();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());if(!1!==this._timeout){var a=this._timeout,u=setTimeout((function(){r.destroy(),n.close(),n.emit("error","timeout"),o.emitAll("connect_timeout",a)}),a);this.subs.push({destroy:function(){clearTimeout(u)}})}return this.subs.push(r),this.subs.push(s),this},Br.prototype.onopen=function(){this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(Pr(t,"data",Tr(this,"ondata"))),this.subs.push(Pr(t,"ping",Tr(this,"onping"))),this.subs.push(Pr(t,"pong",Tr(this,"onpong"))),this.subs.push(Pr(t,"error",Tr(this,"onerror"))),this.subs.push(Pr(t,"close",Tr(this,"onclose"))),this.subs.push(Pr(this.decoder,"decoded",Tr(this,"ondecoded")))},Br.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},Br.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},Br.prototype.ondata=function(t){this.decoder.add(t)},Br.prototype.ondecoded=function(t){this.emit("packet",t)},Br.prototype.onerror=function(t){this.emitAll("error",t)},Br.prototype.socket=function(t,e){var n=this.nsps[t];if(!n){n=new Cr(this,t,e),this.nsps[t]=n;var o=this;n.on("connecting",r),n.on("connect",(function(){n.id=o.generateId(t)})),this.autoConnect&&r()}function r(){~Rr(o.connecting,n)||o.connecting.push(n)}return n},Br.prototype.destroy=function(t){var e=Rr(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},Br.prototype.packet=function(t){var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,(function(n){for(var o=0;o<n.length;o++)e.engine.write(n[o],t.options);e.encoding=!1,e.processPacketQueue()})))},Br.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},Br.prototype.cleanup=function(){for(var t=this.subs.length,e=0;e<t;e++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},Br.prototype.close=Br.prototype.disconnect=function(){this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},Br.prototype.onclose=function(t){this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},Br.prototype.reconnect=function(){if(Ar.isBackend(),this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();this.reconnecting=!0;var n=setTimeout((function(){if(Ar.isBackend())return t.reconnecting=!1,t.reconnect(),void t.emitAll("reconnect_error","Uniapp running backend, skipped reconnect...");t.skipReconnect||(t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open((function(e){e?(t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):t.onreconnect()})))}),e);this.subs.push({destroy:function(){clearTimeout(n)}})}},Br.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)},function(t,e){var n=Tn,o=Rn,r=xr;gn.exports("socket.io-client");t.exports=e=s;var i=e.managers={};function s(t,e){"object"===a(t)&&(e=t,t=void 0),e=e||{};var o,s=n(t),c=s.source,u=s.id,f=s.path,p=i[u]&&f in i[u].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||p?o=r(c,e):(i[u]||(i[u]=r(c,e)),o=i[u]),s.query&&!e.query&&(e.query=s.query),o.socket(s.path,e)}e.protocol=o.protocol,e.connect=s,e.Manager=xr,e.Socket=dr.exports}(dn,dn.exports),function(t){t.__esModule=!0;var e=$,n=te,o=dn.exports,r=et,i=function(){function t(){this.io=o,this.status=e.NetworkStatus.DISCONNECTED,this.permissions=[n.Permission.NONE],this.connectedObservers=[],this.disconnectedObservers=[]}return t.prototype.connect=function(){this.status=e.NetworkStatus.CONNECTING},t.prototype.socketio=function(){return this.io},t.prototype.on=function(t,e){this.io.on(t,e)},t.prototype.disconnect=function(){this.io.disconnect()},t.prototype.getStatus=function(){return this.status},t.prototype.addConnectedObserver=function(t){r.default.isFunction(t)&&this.connectedObservers.push(t)},t.prototype.addDisconnectedObserver=function(t){r.default.isFunction(t)&&this.disconnectedObservers.push(t)},t.prototype.notify=function(t,e){for(var n=0;n<t.length;n++)t[n](e)},t}();t.default=i}(hn);var Gr={};!function(t){t.__esModule=!0;var e=Y,n=$,o=function(t){function o(e){var n=t.call(this)||this;return n.reconnectingObservers=[],n.addReconnectingObserver(e.onReconnecting),n.addDisconnectedObserver(e.onDisconnected),n}return e.__extends(o,t),o.prototype.connect=function(e){t.prototype.connect.call(this),this.io=this.io.connect(e.uri,e.opts),this.initListener()},o.prototype.initListener=function(){var t=this;this.io.on("connect",(function(){t.status=n.NetworkStatus.CONNECTED,t.notify(t.connectedObservers)})),this.io.on("reconnecting",(function(e){t.status=n.NetworkStatus.CONNECTING,t.notify(t.reconnectingObservers,e)})),this.io.on("disconnect",(function(){t.status=n.NetworkStatus.DISCONNECTED,t.notify(t.disconnectedObservers)})),this.io.on("connect_error",(function(t){}))},o.prototype.addReconnectingObserver=function(t){this.reconnectingObservers.push(t)},o}(hn.default);t.default=o}(Gr);var jr={},Fr={},Ur={__esModule:!0,Cookie:void 0},Lr=Y,qr=function(){function t(){}return t.get=function(t){var e,n,o=encodeURIComponent(t)+"=",r=document.cookie.split("; ");try{for(var i=Lr.__values(r),s=i.next();!s.done;s=i.next()){var a=s.value;if(a.startsWith(o))return decodeURIComponent(a.substring(o.length))}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return null},t.set=function(t,e,n,o,r,i){void 0===r&&(r="/"),void 0===i&&(i=!1);var s=encodeURIComponent(t)+"="+encodeURIComponent(e);n instanceof Date&&(s+="; expires="+n.toGMTString()),r&&(s+="; path="+r),o&&(s+="; domain="+o),i&&(s+="; secure"),document.cookie=s},t.remove=function(e,n,o,r){void 0===o&&(o="/"),void 0===r&&(r=!1),t.set(e,"",new Date(0),n,o,r)},t}();Ur.Cookie=qr,Fr.__esModule=!0,Fr.LocalStorageDispatcher=Fr.BrowserStorage=Fr.AbstractLocalStorage=void 0;var Wr=Y,zr=Ur,Hr=r,Vr=m,Jr=function(){function t(){}return t.prototype.asyncGet=function(t){var e=this.get(t);return Promise.resolve(e)},t.prototype.asyncPut=function(t,e){return this.put(t,e),Promise.resolve()},t.prototype.get=function(t){var e=this.doGet(t);return e=JSON.parse(e)},t.prototype.put=function(t,e){this.doPut(t,JSON.stringify(e))},t}();Fr.AbstractLocalStorage=Jr;var Xr=function(t){function e(){var e=t.call(this)||this;e.domain=null;return e.domain="undefined"!=typeof location&&/^(?:[A-za-z0-9-]+\.)+[A-za-z]{2,4}(?:[\/\?#][\/=\?%\-&~`@[\]\':+!\.#\w]*)?$/.test(location.host)?location.host.split(".").slice(-2).join("."):null,e}return Wr.__extends(e,t),e.prototype.doGet=function(t){return zr.Cookie.get(t)||null},e.prototype.doPut=function(t,e){var n=new Date(2030,12,31,0,0,0,0),o=this.domain;zr.Cookie.set(t,e,n,o)},e.prototype.remove=function(t){var e=this.domain;zr.Cookie.remove(t,e)},e.prototype.support=function(){return"undefined"!=typeof navigator&&!0===navigator.cookieEnabled},e}(Jr),Yr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wr.__extends(e,t),e.prototype.doGet=function(t){return localStorage.getItem(t)||null},e.prototype.doPut=function(t,e){localStorage.setItem(t,e)},e.prototype.remove=function(t){localStorage.removeItem(t)},e.prototype.support=function(){return!("undefined"!=typeof GameGlobal||"undefined"==typeof localStorage||!localStorage.setItem)},e}(Jr),Kr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wr.__extends(e,t),e.prototype.doGet=function(t){return uni.getStorageSync(t)||null},e.prototype.doPut=function(t,e){uni.setStorageSync(t,e)},e.prototype.remove=function(t){uni.removeStorageSync(t)},e.prototype.support=function(){return!("object"!==("undefined"==typeof uni?"undefined":a(uni))||!uni.getStorageSync)},e}(Jr),Qr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wr.__extends(e,t),e.prototype.doGet=function(t){return cc.sys.localStorage.getItem(t)||null},e.prototype.doPut=function(t,e){cc.sys.localStorage.setItem(t,e)},e.prototype.remove=function(t){cc.sys.localStorage.removeItem(t)},e.prototype.support=function(){return"undefined"!=typeof cc&&void 0!==cc.sys.localStorage},e}(Jr),$r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wr.__extends(e,t),e.prototype.doGet=function(t){return wx.getStorageSync(t)||null},e.prototype.doPut=function(t,e){wx.setStorageSync(t,e)},e.prototype.remove=function(t){wx.removeStorageSync(t)},e.prototype.support=function(){return!("object"!==("undefined"==typeof wx?"undefined":a(wx))||!wx.getStorageSync||"undefined"!=typeof tt)},e}(Jr),Zr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wr.__extends(e,t),e.prototype.asyncGet=function(t){return Wr.__awaiter(this,void 0,void 0,(function(){var e;return Wr.__generator(this,(function(n){switch(n.label){case 0:return[4,Hr.RNPlugins.asyncStorage.getItem(t)];case 1:return e=n.sent(),[2,JSON.parse(e)]}}))}))},e.prototype.asyncPut=function(t,e){return Hr.RNPlugins.asyncStorage.setItem(t,JSON.stringify(e))},e.prototype.doPut=function(t,e){throw new Error("Method not implemented.")},e.prototype.remove=function(t){Hr.RNPlugins.asyncStorage.removeItem(t)},e.prototype.support=function(){return Vr.FrameworkDetector.currentFramework()===Vr.Framework.REACT_NATIVE},e.prototype.doGet=function(t){throw new Error("Method not implemented.")},e}(Jr),ti=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wr.__extends(e,t),e.prototype.doGet=function(t){var e=my.getStorageSync({key:t}).data||null;return"string"==typeof JSON.parse(e)?JSON.parse(e):e},e.prototype.doPut=function(t,e){my.setStorageSync({key:t,data:JSON.stringify(e)})},e.prototype.remove=function(t){my.removeStorageSync({key:t})},e.prototype.support=function(){return!("undefined"==typeof my||!my.getStorageSync)},e}(Jr);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Wr.__extends(e,t),e.prototype.doGet=function(t){return qq.getStorageSync(t)||null},e.prototype.doPut=function(t,e){qq.setStorageSync(t,e)},e.prototype.remove=function(t){qq.removeStorageSync(t)},e.prototype.support=function(){return!("undefined"==typeof qq||!qq.getStorageSync)}}(Jr);var ei=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wr.__extends(e,t),e.prototype.doGet=function(t){return tt.getStorageSync(t)||null},e.prototype.doPut=function(t,e){tt.setStorageSync(t,e)},e.prototype.remove=function(t){tt.removeStorageSync(t)},e.prototype.support=function(){return!("object"!==("undefined"==typeof tt?"undefined":a(tt))||!tt.getStorageSync)},e}(Jr),ni=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wr.__extends(e,t),e.prototype.doGet=function(t){return swan.getStorageSync(t)||null},e.prototype.doPut=function(t,e){swan.setStorageSync(t,e)},e.prototype.remove=function(t){swan.removeStorageSync(t)},e.prototype.support=function(){return!("undefined"==typeof swan||!swan.getStorageSync)},e}(Jr),oi=function(t){function e(){var n=t.call(this)||this;return n.api=e.dispatch(),n.api,n}return Wr.__extends(e,t),e.dispatch=function(){var t=new Yr,e=new Xr;return t.support()?t:e},e.prototype.doGet=function(t){return this.api.doGet(t)},e.prototype.doPut=function(t,e){this.api.put(t,e)},e.prototype.remove=function(t){this.api.remove(t)},e.prototype.support=function(){return"undefined"!=typeof localStorage},e}(Jr);Fr.BrowserStorage=oi;var ri=function(){function t(){this.supportedStorage=null;var e=t.storages;e.push(new Kr),e.push(new Qr),e.push(new Yr),e.push(new $r),e.push(new Zr),e.push(new ti),e.push(new ni),e.push(new ei),e.push(new Xr),this.dispatch(),this.supportedStorage}return t.localStorage=function(){return this.instance.supportedStorage},t.prototype.dispatch=function(){var e,n;try{for(var o=Wr.__values(t.storages),r=o.next();!r.done;r=o.next()){var i=r.value;if(i.support()){this.supportedStorage=i;break}}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t.storages=new Array,t.instance=new t,t}();Fr.LocalStorageDispatcher=ri,jr.__esModule=!0,jr.ServerMarkRepository=void 0;var ii=Y,si=Fr,ai=function(){function t(){}return t.get=function(){return ii.__awaiter(this,void 0,void 0,(function(){var e,n;return ii.__generator(this,(function(o){switch(o.label){case 0:return null===(e=si.LocalStorageDispatcher.localStorage())?[3,2]:[4,e.asyncGet(t.SM_KEY)];case 1:n=o.sent(),o.label=2;case 2:return[2,n]}}))}))},t.put=function(e){return ii.__awaiter(this,void 0,void 0,(function(){var n,o;return ii.__generator(this,(function(r){return n=si.LocalStorageDispatcher.localStorage(),o=e.sm,null!==n&&o&&n.asyncPut(t.SM_KEY,o),[2]}))}))},t.SM_KEY="GE-SM",t}();jr.ServerMarkRepository=ai;var ci={},ui={__esModule:!0,ZE:void 0},fi=function(){function t(){}return t.e=function(t,e){var n=32,o=126;function r(t){return function(t){return t>=n&&t<=o}(t)?String.fromCharCode(function(t){var r=t+e;return r>o?n+(r-o):r}(t)):String.fromCharCode(t)}for(var i="",s=0;s<t.length;s++){i+=r(t.charCodeAt(s))}return i},t}();ui.ZE=fi;var pi={};pi.__esModule=!0,pi.nodeOS=void 0,pi.nodeOS=function(){try{return require("os")}catch(t){}},ci.__esModule=!0,ci.Z=void 0;var li=Y,hi=nt,di=m,yi=ui,mi=r,vi=pi,gi=function(){function t(){}return t.initRNUniqueId=function(){if(di.FrameworkDetector.currentFramework()===di.Framework.REACT_NATIVE){var t=mi.RNPlugins.platform,e=t.constants,n={os:t.OS};return"android"===n.os?n.f=e.Fingerprint:n.v=t.Version,JSON.stringify(n)}return null},t.initPlusDeviceId=function(){return new Promise((function(t,e){"undefined"!=typeof plus?plus.device.getInfo({success:function(e){t(e.uuid)},fail:function(t){e(t)}}):t(null)}))},t.getVideoCard=function(){var t;if(hi.PlatformDetector.currentPlatform()===hi.PlatformType.BROWSER&&"undefined"!=typeof document){var e=document.createElement("canvas"),n=null!==(t=e.getContext("webgl"))&&void 0!==t?t:e.getContext("experimental-webgl");if(n&&"getExtension"in n){var o=0,r=0;if(navigator.userAgent.indexOf("Firefox")>-1)r=n.VENDOR,o=n.RENDERER;else{var i=n.getExtension("WEBGL_debug_renderer_info");if(!i)return null;r=i.UNMASKED_VENDOR_WEBGL,o=i.UNMASKED_RENDERER_WEBGL}var s={vendor:(n.getParameter(r)||"").toString(),renderer:(n.getParameter(o)||"").toString()};return JSON.stringify(s)}}return null},t.z=function(){return li.__awaiter(this,void 0,void 0,(function(){var t;return li.__generator(this,(function(e){return function(t){if(hi.PlatformDetector.currentPlatform()===hi.PlatformType.NODE){var e=(0,vi.nodeOS)().networkInterfaces();for(var n in e){var o=e[n].find((function(t){return"undefined"!==t.mac&&"00:00:00:00:00:00"!==t.mac}));o&&(t.mc=o.mac)}}}(t={p:hi.PlatformDetector.currentPlatform(),f:di.FrameworkDetector.currentFramework(),vc:this.getVideoCard(),rfp:this.initRNUniqueId()}),[2,yi.ZE.e(JSON.stringify(t),5)]}))}))},t}();ci.Z=gi;var bi={__esModule:!0,Emitter:void 0},Si=$,wi=function(){function t(t){this.rocketsBuffer=new Set,this.socket=t,this.socket.addConnectedObserver(this.onSocketConnected.bind(this))}return t.prototype.emit=function(t){this.socket.status!==Si.NetworkStatus.DISCONNECTED?(t.start(),this.doEmit(t)):t.fail({resultCode:"409",content:"Please connect first"})},t.prototype.doEmit=function(t){var e=this;if(!t.complete)if(this.socket.status!==Si.NetworkStatus.CONNECT_FAILED)if(this.isConnected())if(this.hasPermission(t)){var n=setTimeout((function(){e.doEmit(t)}),t.singleTimeout);t.unique&&(t.params.retried=t.retried),this.socket.socketio().emit(t.name,t.params,(function(e){clearTimeout(n),200===e.resultCode||200==e.code?t.success(e):t.fail(e)})),t.retried++}else t.fail({resultCode:401,content:"No permission"});else this.isConnecting()&&this.rocketsBuffer.add(t);else t.fail({resultCode:408,content:"Failed to connect GoEasy."})},t.prototype.hasPermission=function(t){return!!this.socket.permissions.find((function(e){return e===t.permission}))},t.prototype.isConnected=function(){return[Si.NetworkStatus.CONNECTED,Si.NetworkStatus.RECONNECTED,Si.NetworkStatus.EXPIRED_RECONNECTED,Si.NetworkStatus.DISCONNECTING].includes(this.socket.status)},t.prototype.isConnecting=function(){return[Si.NetworkStatus.CONNECTING,Si.NetworkStatus.RECONNECTING].includes(this.socket.status)},t.prototype.onSocketConnected=function(){this.emitBuffer()},t.prototype.emitBuffer=function(){var t=this;Array.from(this.rocketsBuffer).forEach((function(e){t.rocketsBuffer.delete(e),t.doEmit(e)}))},t}();bi.Emitter=wi;var Ei={__esModule:!0,SEC:void 0},ki=Y,_i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ki.__extends(e,t),e.init=function(){e.i=new e},e.fire=function(t,e){this.i.fire(t,e)},e.on=function(t,e){this.i.on(t,e)},e.off=function(t,e){this.i.off(t,e)},e}(te.AbstractEventCenter);Ei.SEC=_i,function(t){t.__esModule=!0;var e=Y,n=Gr,o=$,r=et,i=lt,s=le,a=pt,c=_e,u=jr,f=ci,p=bi,l=wr,h=nt,d=pi,y=te,m=Ei,v=function(t){function v(e,o){var r=t.call(this)||this;return r.ioSocket=null,r.sid=null,r.anonymous=!1,r.userId=null,r.artifactVersion=s.version,r.vname=null,r.uri=null,r.ioOpts=null,r.reconnectingTimes=0,r.messageObservers=new Map,r.connectFailedObservers=[],r.connectingObservers=[],r.expiredReconnectedObservers=[],r.options=e,r.ioSocket=new n.default({onDisconnected:r.onIoDisconnected.bind(r),onReconnecting:r.onIoReconnecting.bind(r)}),r.ioSocketEmitter=new p.Emitter(r.ioSocket),r.ioSocket.addConnectedObserver(r.onIoReconnected.bind(r)),r.initOptions(o),r.connect(),r}return e.__extends(v,t),v.prototype.initUserId=function(){var t=this.connectOptions.id;r.default.isEmpty(t)?this.anonymous=!0:this.userId=t.toString()},v.prototype.socketio=function(){return this.ioSocket.socketio()},v.prototype.extendOptions=function(){var t=this.connectOptions;if(r.default.isNull(t.data)||r.default.isDef(t.data)&&!r.default.isObject(t.data))throw{code:400,content:"TypeError: data requires an object."};if((r.default.isDef(t.data)?String(t.data).length:0)>300&&r.default.isObject(t)&&r.default.isFunction(t.onFailed))throw{code:400,content:"user.data-length limit 300 byte."};if(r.default.isObject(t.wxmpId)){if(r.default.isEmpty(t.wxmpId.appid))throw{code:400,content:"wxmpId.appid is required."};if(r.default.isEmpty(t.wxmpId.openid))throw{code:400,content:"wxmpId.openid is required. requires string."}}else if(r.default.isPrimitive(t.wxmpId))throw{code:400,content:"TypeError: wxmpId requires an object."}},v.prototype.initUriAndOpts=function(){var t=this.options;l.URIResolver.init(t.host,t.forceTLS,t.supportOldBrowser),this.uri=l.URIResolver.uri();var e=["websocket"];!0===t.supportOldBrowser&&e.push("polling"),this.ioOpts={transports:e,timeout:i.SocketTimeout.connect,reconnectionDelayMax:i.SocketTimeout.reconnectionDelayMax},function(t){if(h.PlatformDetector.currentPlatform()===h.PlatformType.NODE){var e=(0,d.nodeOS)(),n="Nodejs/".concat(process.version," (").concat(e.platform()," ").concat(e.release()," ").concat(e.arch(),")");t.extraHeaders={"User-Agent":n}}}(this.ioOpts)},v.prototype.onIoReconnected=function(){this.status===o.NetworkStatus.RECONNECTING&&this.authorize()},v.prototype.sendAck=function(t,e){this.ioSocket.io.emit(t,e)},v.prototype.initOptions=function(t){this.connectOptions=t,this.addConnectedObserver(t.onSuccess),this.addConnectFailedObserver(t.onFailed),this.addConnectingObserver(t.onProgress),this.initUserId()},v.prototype.connect=function(){this.initUriAndOpts(),this.extendOptions(),t.prototype.connect.call(this),this.onConnecting(),this.ioSocket.connect({uri:this.uri,opts:this.ioOpts}),this.authorize()},v.prototype.disconnect=function(){var t=this;return new Promise((function(e,n){t.status=o.NetworkStatus.DISCONNECTING;var r=function(){t.ioSocket.disconnect(),t.status=o.NetworkStatus.DISCONNECTED,m.SEC.fire(c.SocketEvent.DISCONNECTED),e()},s=y.GModules.modules.get("GN");if(s&&(s.params.regId||t.connectOptions.wxmpId)){var u=new y.Rocket({name:a.RocketTypes.manualDisconnect,params:{},permission:y.Permission.READ,singleTimeout:i.SocketTimeout.commonRequestSingle,totalTimeout:i.SocketTimeout.commonRequestTotal,fail:function(t){n(t)},success:r});y.G.Socket.e(u)}else r()}))},v.prototype.authorize=function(){return e.__awaiter(this,void 0,void 0,(function(){var t,n,o,r,s=this;return e.__generator(this,(function(e){switch(e.label){case 0:return t=this.connectOptions,r={appkey:this.options.appkey,userId:this.userId,userData:JSON.stringify(t.data),otp:t.otp,artifactVersion:this.artifactVersion,sid:this.sid},[4,y.GModules.getParams()];case 1:return r.mP=e.sent(),r.a=this.anonymous,[4,f.Z.z()];case 2:return r.z=e.sent(),[4,u.ServerMarkRepository.get()];case 3:return r.sm=e.sent(),r.c={n:this.vname,v:this.artifactVersion},n=r,JSON.stringify(n),o=new y.Rocket({name:a.RocketTypes.authorize,params:n,permission:y.Permission.NONE,singleTimeout:i.SocketTimeout.commonInfiniteSingle,totalTimeout:i.SocketTimeout.commonInfiniteTotal,success:function(t){s.onAuthorizeSuccess(t)},fail:function(t){s.onAuthorizeFailed(t)}}),this.ioSocketEmitter.emit(o),[2]}}))}))},v.prototype.onConnecting=function(){m.SEC.fire(c.SocketEvent.CONNECTING,this.reconnectingTimes),this.notify(this.connectingObservers,this.reconnectingTimes)},v.prototype.onIoReconnecting=function(){this.reconnectingTimes++,this.status==o.NetworkStatus.CONNECTED||this.status==o.NetworkStatus.EXPIRED_RECONNECTED||this.status==o.NetworkStatus.RECONNECTING?this.status=o.NetworkStatus.RECONNECTING:this.status=o.NetworkStatus.CONNECTING,this.onConnecting()},v.prototype.onIoDisconnected=function(){this.status!==o.NetworkStatus.DISCONNECTING&&(this.status=o.NetworkStatus.RECONNECTING,m.SEC.fire(c.SocketEvent.LOST),this.notify(this.disconnectedObservers))},v.prototype.onAuthorizeSuccess=function(t){(u.ServerMarkRepository.put(t),y.GModules.setDatas(t.mD),this.status===o.NetworkStatus.RECONNECTING)?this.sid!==t.sid?(this.status=o.NetworkStatus.EXPIRED_RECONNECTED,this.sid=t.sid,m.SEC.fire(c.SocketEvent.EXPIRED_RECONNECTED),this.notify(this.expiredReconnectedObservers)):(this.status=o.NetworkStatus.RECONNECTED,m.SEC.fire(c.SocketEvent.RECONNECTED)):(this.status=o.NetworkStatus.CONNECTED,this.sid=t.sid);t.enablePublish&&(this.permissions.find((function(t){return t==y.Permission.WRITE}))||this.permissions.push(y.Permission.WRITE)),t.enableSubscribe&&(this.permissions.find((function(t){return t==y.Permission.READ}))||this.permissions.push(y.Permission.READ)),this.reconnectingTimes=0,m.SEC.fire(c.SocketEvent.CONNECTED),this.notify(this.connectedObservers)},v.prototype.onAuthorizeFailed=function(t){this.ioSocket.disconnect(),this.status=o.NetworkStatus.CONNECT_FAILED;var e={code:t.resultCode||408,content:t.content||"Host unreachable or timeout"};this.notify(this.connectFailedObservers,e)},v.prototype.addConnectingObserver=function(t){r.default.isFunction(t)&&this.connectingObservers.push(t)},v.prototype.addConnectFailedObserver=function(t){r.default.isFunction(t)&&this.connectFailedObservers.push(t)},v.prototype.addExpiredReconnectedObserver=function(t){r.default.isFunction(t)&&this.expiredReconnectedObservers.push(t)},v.prototype.onMessage=function(t,e){this.ioSocket.io._callbacks.hasOwnProperty("$"+t)||this.ioSocket.io.on(t,e)},v.prototype.user=function(){var t=this.connectOptions;return t?{id:t.id,data:t.data}:null},v}(hn.default);t.default=v}(ln);var Ci={__esModule:!0,MessageListener:void 0},Ni=Ei,Oi=_e,Pi=function(){function t(t){this.guidList=[],this.socket=t}return t.prototype.offMessage=function(t,e){Ni.SEC.off(Oi.SocketEvent.NEW_MESSAGE+"_"+t,e)},t.prototype.onMessage=function(t,e){var n=this;Ni.SEC.on(Oi.SocketEvent.NEW_MESSAGE+"_"+t,e),this.socket.onMessage(t,(function(e){n.fire(t,e)}))},t.prototype.fire=function(t,e){var n=this.filter(e);n&&Ni.SEC.fire(Oi.SocketEvent.NEW_MESSAGE+"_"+t,n)},t.prototype.filter=function(t){if("string"==typeof t&&(t=JSON.parse(t)),t.i){if(this.guidList.findIndex((function(e){return e===t.i}))>-1)return;this.guidList.unshift(t.i),this.guidList.length>300&&this.guidList.pop()}return t},t}();Ci.MessageListener=Pi,pn.__esModule=!0,pn.GSocket=void 0;var Ti=ln,Ri=bi,Ii=$,Mi=et,Ai=Ei,Di=_e,xi=Ci,Bi=te,Gi=ht,ji=ve,Fi=function(){function t(t){this.goeasyOptions=t}return t.init=function(e){this.i=new t(e)},t.connect=function(t,e){if(this.status()!==Ii.NetworkStatus.DISCONNECTED&&Mi.default.isObject(t)&&Mi.default.isFunction(t.onFailed))t.onFailed({code:408,content:"It is already connected, don't try again until disconnect() is called. "});else{this.confirmUserIdAndData(t),Ai.SEC.init();var n=this.i;Bi.GModules.preConnect(t),n.socket=new Ti.default(n.goeasyOptions,t),n.socket.vname=e,n.emitter=new Ri.Emitter(n.socket),n.messageListener=new xi.MessageListener(n.socket),Bi.GModules.postConnect()}},t.confirmUserIdAndData=function(t){if(Bi.GModules.modules.get("GIM"))ji.default.validateId(t.id,"id"),ji.default.validateObject(t.data,"data");else if("string"==typeof t.id&&t.id.length>60)throw{code:400,content:"id over max length 60"}},t.e=function(t){this.i.emitter.emit(t)},t.sendAck=function(t,e){this.i.socket.sendAck(t,e)},t.status=function(){return this.i&&this.i.socket?this.i.socket.getStatus():Ii.NetworkStatus.DISCONNECTED},t.on=function(t,e){Ai.SEC.on(t,e)},t.off=function(t,e){Ai.SEC.off(t,e)},t.offMessage=function(t,e){this.i.messageListener.offMessage(t,e)},t.onMessage=function(t,e){"remoteEvent:".concat(t),this.i.messageListener.onMessage(t,e)},t.disconnect=function(t){this.i.socket.disconnect().then((function(){Gi.CallbackUtils.onSuccess(t)})).catch((function(e){Gi.CallbackUtils.onFailed(t,e)}))},t.user=function(){return this.i.socket.user()},t.EVENT=Di.SocketEvent,t}();pn.GSocket=Fi;var Ui={__esModule:!0,GWS:void 0},Li=de,qi=ht,Wi=he,zi=$,Hi=te,Vi=function(){function t(){}return t.publish=function(t){this.catch((function(){Li.PubSub.instance.publish(t)}),t)},t.subscribe=function(t){this.catch((function(){Li.PubSub.instance.subscribe(t)}),t)},t.unsubscribe=function(t){this.catch((function(){Li.PubSub.instance.unsubscribe(t)}),t)},t.subscribePresence=function(t){this.catch((function(){Li.PubSub.instance.subscribePresence(t)}),t)},t.unsubscribePresence=function(t){this.catch((function(){Li.PubSub.instance.unsubscribePresence(t)}),t)},t.history=function(t){this.catch((function(){Li.PubSub.instance.history(t)}),t)},t.hereNow=function(t){this.catch((function(){Li.PubSub.instance.hereNow(t)}),t)},t.catch=function(t,e){try{if(Wi.GWSModule.check(),[zi.NetworkStatus.DISCONNECTED,zi.NetworkStatus.DISCONNECTING,zi.NetworkStatus.CONNECT_FAILED].includes(Hi.G.Socket.status()))throw new Error("Please call connect() first.");t()}catch(t){qi.CallbackUtils.onFailed(e,t)}},t}();Ui.GWS=Vi;var Ji={},Xi={__esModule:!0,MemberDataCache:void 0},Yi=function(){function t(){this.map=new Map}return t.prototype.getData=function(t){return this.map.get(t)},t.prototype.setData=function(t,e){this.map.set(t,e)},t}();Xi.MemberDataCache=Yi,Ji.__esModule=!0,Ji.GMember=void 0;var Ki=Y,Qi=Xi,$i=te,Zi=pt,ts=lt,es=function(){function t(){this.dataCache=new Qi.MemberDataCache}return t.init=function(){this.i=new t},t.prototype.getData=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ki.__awaiter(this,void 0,void 0,(function(){var e,n,o=this;return Ki.__generator(this,(function(r){switch(r.label){case 0:return e=[],n=new Map,t.forEach((function(t){var r=o.dataCache.getData(t);r?n.set(t,r):e.push(t)})),0===e.length?[2,Promise.resolve(n)]:[4,this.fetchData.apply(this,Ki.__spreadArray([],Ki.__read(e),!1))];case 1:return r.sent().forEach((function(t,e){o.dataCache.setData(e,t),n.set(e,t)})),[2,Promise.resolve(n)]}}))}))},t.prototype.fetchData=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Promise((function(e,n){var o=new $i.Rocket({name:Zi.RocketTypes.MD_CMD,permission:$i.Permission.READ,singleTimeout:ts.SocketTimeout.commonRequestSingle,totalTimeout:ts.SocketTimeout.commonRequestTotal,params:{name:"GET",data:{ids:t}},success:function(t){if(200===t.code){var o=new Map;t.content.forEach((function(t){o.set(t.id,t.data)})),e(o)}else n(t)},fail:function(t){n(t)}});$i.G.Socket.e(o)}))},t.prototype.setData=function(t,e){this.dataCache.setData(t,e)},t}();return Ji.GMember=es,function(t){t.__esModule=!0;var e=r,n=$,o=Z,i=et,s=le,a=te,c=he,u=pn,f=Ui,p=Ji,l=nt,h=function(){function t(){}return t.getInstance=function(e){return this.init(e),t},t.init=function(t){if(this.getConnectionStatus()!==n.NetworkStatus.DISCONNECTED)throw new Error("Initialization failed. Please disconnect and try again.");this.validateOptions(t),e.RNPlugins.init(t.reactNativeOptions),this.options=t,u.GSocket.init(t),t.allowNotification&&o.GN.init(),t.modules&&t.modules.includes("PUBSUB")&&a.GModules.initModule(c.GWSModule.init()),a.G.init(u.GSocket,o.GN,p.GMember,s.version,l.Platform,a.GModules)},t.setBadge=function(t){o.GN.setBadge(t)},t.connect=function(t){u.GSocket.connect(t,"JS-L")},t.disconnect=function(t){u.GSocket.disconnect(t)},t.getConnectionStatus=function(){return u.GSocket.status()},t.validateOptions=function(t){var e="";if(!i.default.isObject(t))throw e="options is require an object.",Error(e);if(!i.default.isPrimitive(t.appkey)||0==t.appkey.length)throw e="Invalid options:'appkey' is empty.",Error(e);if(!i.default.isPrimitive(t.host)||0==t.host.length)throw e="Invalid options:'host' is empty.",Error(e);if(!i.default.isArray(t.modules))throw e="Invalid options: 'modules' must be nonempty array",Error(e);t.modules=t.modules.map((function(t){return t.toUpperCase()}))},t.onClickNotification=function(t){o.GN.onClickNotification(t)},t.version=s.version,t.pubsub=f.GWS,t}();t.default=h}(o),e(o)}));